<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>pathom-utils 0.2.8.2 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Clojure namespaces</pre><a href="https://mt-extensions.github.io/pathom-utils/clj/pathom/debug/api.html"><pre class="button color--hard-blue text--m ">pathom.debug.api</pre></a><a href="https://mt-extensions.github.io/pathom-utils/clj/pathom/tools/api.html"><pre class="button color--hard-blue text--m button--active">pathom.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Tutorials</pre><a href="#registering-handlers"><pre class="button color--hard-purple text--m">Registering handlers</pre></a><a href="#providing-registered-handlers"><pre class="button color--hard-purple text--m">Providing registered handlers</pre></a></div><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#environments"><pre class="button color--hard-blue text--m">ENVIRONMENTS</pre></a><a href="#handlers"><pre class="button color--hard-blue text--m">HANDLERS</pre></a><a href="#env-_mutation-dex"><pre class="button color--hard-blue text--m">env->mutation-dex</pre></a><a href="#env-_mutation-param"><pre class="button color--hard-blue text--m">env->mutation-param</pre></a><a href="#env-_mutation-params"><pre class="button color--hard-blue text--m">env->mutation-params</pre></a><a href="#env-_resolver-param"><pre class="button color--hard-blue text--m">env->resolver-param</pre></a><a href="#env-_resolver-params"><pre class="button color--hard-blue text--m">env->resolver-params</pre></a><a href="#env_-context"><pre class="button color--hard-blue text--m">env<-context</pre></a><a href="#env_-mutation-param"><pre class="button color--hard-blue text--m">env<-mutation-param</pre></a><a href="#env_-resolver-param"><pre class="button color--hard-blue text--m">env<-resolver-param</pre></a><a href="#get-environment"><pre class="button color--hard-blue text--m">get-environment</pre></a><a href="#reg-handlers_"><pre class="button color--hard-blue text--m">reg-handlers!</pre></a><a href="#remove-handlers_"><pre class="button color--hard-blue text--m">remove-handlers!</pre></a><a href="#request-_query"><pre class="button color--hard-blue text--m">request->query</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Clojure namespace</pre><pre class="color--black text--xxl text--wrap text--bold">pathom.tools.api</pre></div><div class="sections"><div class="section" id="registering-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Registering handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcb460abd-33e0-40d5-8910-ab821196a72a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcb460abd-33e0-40d5-8910-ab821196a72a&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe15eea98-3262-41a2-9212-e6026d776ca4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> function stores the provided handlers (mutation and/or resolver functions),<br>then rebuilds the corresponding environment by using the 'pci/register' function.<br><br>- Handles different environments (i.e. handler sets).<br>- Supports hot code reloading (by updating changed environments).<br>- If no environment ID is provided, the default environment ID is ':global'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8a2c529a-431e-4cfb-9b2b-0e15ba976497"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div></div></div><div class="section" id="providing-registered-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Providing registered handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q98da81f7-e9e1-4cfc-b9a1-fb7707f0f30b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q98da81f7-e9e1-4cfc-b9a1-fb7707f0f30b&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q30381a9a-cdbe-495e-a684-78452c03ea93"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#get-environment">'get-environment'</a> function provides a specific environment (i.e. handler set) to the 'p.eql/process' function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q242e8e0e-39bc-43e2-a1c4-b32f5dcbef53"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-resolver my-resolver})<br><br>(let [environment (get-environment :my-environment)]<br>     (p.eql/process environment [:my-reosolver]))</pre></div></div></div></div></div><div class="sections"><div class="section" id="handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">HANDLERS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7bec159c-6a07-4cc6-b476-da4c122e0138"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7bec159c-6a07-4cc6-b476-da4c122e0138&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce HANDLERS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q72d49db5-410a-4a26-96b6-09d9836dbcbf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored handlers (mutation and/or resolver functions).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd847d389-7899-4265-a0df-a6494e7d84b7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref HANDLERS)<br>=&gt;<br>{:my-environment {:my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...}<br>                  :my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd4af5bcd-6f4d-4c42-b662-c733a6b2d7d7"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd4af5bcd-6f4d-4c42-b662-c733a6b2d7d7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:my-handler (mutation or resolver function)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="environments"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">ENVIRONMENTS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q90568426-5d51-4e67-8362-9d46b9f40832"><button class="snippet--header" onClick="toggleCollapsible(&apos;q90568426-5d51-4e67-8362-9d46b9f40832&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce ENVIRONMENTS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd162e998-da8d-4019-bda2-a98813f8b15e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored environments.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc10821d7-0787-4922-bc40-fb0e823a8dcc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref ENVIRONMENTS)<br>=&gt;<br>{:my-environment<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br>   :com.wsscode.pathom3.connect.indexes/index-io {...}<br>   :com.wsscode.pathom3.connect.indexes/index-oir {...}<br>   :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf7430f2e-441b-4e0f-b78a-e65a88a338c7"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf7430f2e-441b-4e0f-b78a-e65a88a338c7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br>   :com.wsscode.pathom3.connect.indexes/index-io (map)<br>   :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br>   :com.wsscode.pathom3.connect.indexes/index-oir (map)<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env_-context"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-context</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qea3b48be-1edf-468f-99d7-6e2d6c39d376"><button class="snippet--header" onClick="toggleCollapsible(&apos;qea3b48be-1edf-468f-99d7-6e2d6c39d376&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-context
  [env context]
  (merge env context))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q44baf8ea-8648-4e41-aa1e-7b9092e55657"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Merges the given context map onto the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q194ff71e-0caf-4195-8d40-f0c442037cdd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-context {...} {:query [:my-resolver] :request {...}})<br>=&gt;<br>{:query [:my-resolver] :request {...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qad147798-df94-4b8c-ae4e-593289f5cc71"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe6f436de-6484-499f-a685-8b73e8e47f54"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q38e9b44e-990f-49db-9892-9acf8548c6cb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qbb958d79-e99c-44b9-9987-9232caf2aff8"><button class="snippet--header" onClick="toggleCollapsible(&apos;qbb958d79-e99c-44b9-9987-9232caf2aff8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-params
  [env]
  (-&gt; env pathom.co/params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2172c667-2e78-42b8-83a7-9d4c6fa0f2bc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the resolver parameters from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qabb17bcd-b84f-427f-a821-d4dce4b9d26d"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q68dd1dff-6077-470b-9e34-c6c4c7431881"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q286dddeb-fbc5-472f-bebf-344db467fbad"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q12f214c8-2750-4a7a-bffe-89253f010eb3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe9c62c85-18da-49e3-bd3f-79172d7b6d78"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [params (env-&gt;resolver-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2d21697a-d9f8-4437-8edf-197c7dae8c77"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2d21697a-d9f8-4437-8edf-197c7dae8c77&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa4523a22-76fa-4eb8-a43c-7fb5297b5ba2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qfb8b7ada-c6d9-4a64-aa42-ae9b0f9660d6"><button class="snippet--header" onClick="toggleCollapsible(&apos;qfb8b7ada-c6d9-4a64-aa42-ae9b0f9660d6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-param
  [env param-key]
  (-&gt; env (env-&gt;resolver-params)
          (get param-key)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc3fa7a8d-bf6b-4723-8200-0b4d2f93cd7b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific resolver parameter from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q58a55ffe-99f5-471d-848b-8933b4ef50ad"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb74d783c-267e-43a8-8a49-59ad1cd90401"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9bc3390d-66bd-4a2e-981a-8f0b7746d32a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q46eb99d8-65d6-4fac-9a3c-30793c671538"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf4840a23-f663-454a-8a99-cf5f92952d23"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [param (env-&gt;resolver-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc76358ed-75db-49ab-bae2-580a90a6f8ce"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc76358ed-75db-49ab-bae2-580a90a6f8ce&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6f47491d-83e2-45e0-bbd7-72695b4ea254"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4675ab8b-d768-447a-a6b5-012751e68c0c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc284d27e-df13-43a7-8ec7-1c3413c334cc"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc284d27e-df13-43a7-8ec7-1c3413c334cc&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-resolver-param
  [env param-key param-value]
  (assoc-in env [:com.wsscode.pathom3.connect.planner/node :com.wsscode.pathom3.connect.planner/params param-key] param-value))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qde641544-eda2-4f0a-aa1e-eaead78f16e4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a resolver parameter.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa0522f73-1892-400c-a6b6-c83f9595ffc3"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2f31ff90-fde4-47e8-b4ab-ef094100839f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-resolver-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value" ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa15793e1-9399-4f46-bc34-d17fabad9d34"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1a6623bb-a0b0-453e-85c4-bb13b5efccfd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q53059337-8f15-4c3b-ac40-7b6b50eebd10"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q512ab3fd-e959-4173-963d-9cbc5d430768"><button class="snippet--header" onClick="toggleCollapsible(&apos;q512ab3fd-e959-4173-963d-9cbc5d430768&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)<br>  {:com.wsscode.pathom3.connect.planner/params (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env-_mutation-dex"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-dex</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf525074f-d9aa-4696-bd7e-96ba5f1467be"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf525074f-d9aa-4696-bd7e-96ba5f1467be&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-dex
  [env mutation-name]
  (letfn [(f0 [%] (-&gt; % :dispatch-key (= (-&gt; mutation-name name symbol))))]
         (-&gt; env (:com.wsscode.pathom3.connect.planner/graph)
                 (:com.wsscode.pathom3.connect.planner/mutations)
                 (vector/first-dex-by f0))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb4cefd96-6e63-4848-9ed4-d0dd7f9151b7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the index of a specific mutation within the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9fdde160-997e-4583-937f-ac14d5a84e53"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdf7db3ea-3615-4e94-b90d-ed3b9d2db48e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation ...} {...} ...] ...} ...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q57e961c3-547f-4e66-8578-7161bee2d2c2"><button class="snippet--header" onClick="toggleCollapsible(&apos;q57e961c3-547f-4e66-8578-7161bee2d2c2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbe809b08-dac1-4e97-b88f-712dce80dd73"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q632108af-5645-4f17-aaf5-0da197464078"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">integer</pre></div></div></div></div><div class="section" id="env-_mutation-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc9e99de1-4c29-4997-97e4-fa17056c1830"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc9e99de1-4c29-4997-97e4-fa17056c1830&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-params
  ([env]
   (env-&gt;mutation-params env nil))

  ([env mutation-name]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/get-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q77ed4635-4ece-4672-80e7-7898aeba69f7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the mutation parameters from the given environment map.<br>If the mutation name is not provided it returns the parameters of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4a51d230-8127-4874-b550-cf333af9a1a3"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7bdcd09d-791d-4575-8dd4-aaa52d5fd749"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5d87ac97-9c9f-44ce-9779-0a0f20b8695e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb937c5ed-3069-4138-9a4f-f5a205912566"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe2611a65-a0ea-4f50-80bb-82fb6e425023"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdd5e31bd-cc2a-4caf-884e-1e9f9c09f844"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [params (env-&gt;mutation-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q396849ae-5a87-425a-acd9-dfd9b0177a80"><button class="snippet--header" onClick="toggleCollapsible(&apos;q396849ae-5a87-425a-acd9-dfd9b0177a80&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe11d982c-a816-4351-a61b-c2c71ba95943"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb25274c9-52da-4c0e-9477-760bb214caa1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9330ec17-fa09-4545-9784-6364a6a1e20d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9330ec17-fa09-4545-9784-6364a6a1e20d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-param
  ([env param-key]
   (-&gt; env (env-&gt;mutation-params)
           (get param-key)))

  ([env mutation-name param-key]
   (-&gt; env (env-&gt;mutation-params mutation-name)
           (get param-key))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q50b9a815-caf5-4b88-8145-698e82fc0ad3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific mutation parameter from the given environment map.<br>If the mutation name is not provided it returns the parameter of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8bd8e48b-93fc-43d9-a539-04815940e943"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8ed94738-b531-4b79-91b3-bda4a38a5da9"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9d2df66a-e4fc-49cf-b00d-48b8242b1633"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfecca909-8fbd-4e49-8c95-119ad3c5f42b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q793a5766-53fb-4096-82bc-46eea59fa070"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7b534755-fed6-4a56-b9b0-5eade7c95321"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [param (env-&gt;mutation-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2957a7cd-95a5-44b6-8143-59686ebffda6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2957a7cd-95a5-44b6-8143-59686ebffda6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb47f60dd-4645-46eb-afd6-89c278758051"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6644e60d-a438-4d35-ae1e-9b3a600bd0fd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qefab8976-86de-45a5-ade8-b657b1505dac"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb78b278d-fa2f-4bdb-b096-1ee35f75c113"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb78b278d-fa2f-4bdb-b096-1ee35f75c113&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-mutation-param
  ([env param-key param-value]
   (env&lt;-mutation-param env nil param-key param-value))

  ([env mutation-name param-key param-value]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/update-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]
                             assoc param-key param-value))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qefb685eb-5a44-4ffc-8fdd-d9a638c069a5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a mutation parameter.<br>If the mutation name is not provided it associates the value to the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q13ed1ec4-7584-408f-92e2-81357607359d"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qddfee8f6-4d84-4a09-a277-1aa61efe4dc5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1841ea97-94b9-413b-9287-9d89e749622e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-mutation :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q44ddcee1-d678-415d-9054-0e944b798f69"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q95cf48cc-e06e-4fbe-bc17-99a190320601"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q34bb8e97-ea95-436b-b154-6ed5b3a32fcc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa974d481-ec24-4ad4-95dd-e2d778af7818"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7a7a50e8-46d6-4130-9087-3cc16bae4b93"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7a7a50e8-46d6-4130-9087-3cc16bae4b93&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [{:params (map) ...} ...]<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="get-environment"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-environment</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q871760d8-3fe2-4420-8dad-9056f68eb1ee"><button class="snippet--header" onClick="toggleCollapsible(&apos;q871760d8-3fe2-4420-8dad-9056f68eb1ee&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-environment
  ([]
   (get-environment :global))

  ([environment-id]
   (-&gt; register.state/ENVIRONMENTS deref (get environment-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qca7fa033-0f5e-4f37-8df2-b4a1064b75ee"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- Returns an environment map that contains resolver and mutation functions registered by the <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> functions.<br>- Equivalent to the 'p.ci/register' function (in terms of output).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q05609549-2a43-4a10-96bf-33b305296879"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf1f5ea98-7ce1-40ed-a231-664d79074caa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment :my-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa5029dc8-e858-431c-abb3-f7874959d500"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa5029dc8-e858-431c-abb3-f7874959d500&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q140ecb85-2c63-47f9-8d9e-7a23858da5cd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q140ecb85-2c63-47f9-8d9e-7a23858da5cd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br> :com.wsscode.pathom3.connect.indexes/index-io (map)<br> :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br> :com.wsscode.pathom3.connect.indexes/index-oir (map)<br> :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br> ...}</pre></div></div></div></div><div class="section" id="reg-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q569c0650-462b-4c74-8ab1-55c85f976d8d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q569c0650-462b-4c74-8ab1-55c85f976d8d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn reg-handlers!
  ([handlers]
   (reg-handlers! :global handlers))

  ([environment-id handlers]
   (swap! register.state/HANDLERS update environment-id merge handlers)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7428dd9a-d6a8-4d03-878d-444a0b9a6ef9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Register multiple handlers (mutation and/or resolver functions) (into the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc41614a8-fa8d-4c4a-9f9f-1e55bce185ab"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the given handlers are registered into.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q467fac4a-1484-423c-967e-6787fda8428a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(reg-handlers! :my-environment {...})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q51b9b2bc-b60f-46c6-8281-3ebee4d69a14"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc1a48d6f-66cb-4d94-a50d-d70099d66019"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc1a48d6f-66cb-4d94-a50d-d70099d66019&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf22f8851-b3de-4c6d-8172-347d67ce8246"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf22f8851-b3de-4c6d-8172-347d67ce8246&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handlers</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-handler (mutation or resolver function)}</pre></div></div></div></div><div class="section" id="remove-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">remove-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q42163e9c-2c90-4c86-b965-8fe7fc5946fd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q42163e9c-2c90-4c86-b965-8fe7fc5946fd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn remove-handlers!
  ([handler-ids]
   (remove-handlers! :global handler-ids))

  ([environment-id handler-ids]
   (swap! register.state/HANDLERS update environment-id map/remove-keys handler-ids)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa6ed63bd-ef65-44b2-9637-9c63cc28bdaf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Removes multiple handlers (mutation and/or resolver functions) (from the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb04e818e-572a-4145-84ec-8b8a27cc33ff"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the identified handlers are removed from.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4ae0bf55-5d69-4f58-bd88-2787416999db"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd73ca480-a8c4-4172-a7d4-3d14b2979b8d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})<br>(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7a0bc70e-18d9-4a76-af3a-039a9a780059"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7a0bc70e-18d9-4a76-af3a-039a9a780059&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2bc7f3ad-70d6-4808-a3f3-3b06f266730d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2bc7f3ad-70d6-4808-a3f3-3b06f266730d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-ids</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(keyword) handler-id]</pre></div></div></div></div><div class="section" id="request-_query"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">request->query</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd12b84de-4bd1-4dc9-9c4e-f48870cae49d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd12b84de-4bd1-4dc9-9c4e-f48870cae49d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn request-&gt;query
  [request]
  (letfn [(f0 [%] (cond (-&gt; % vector?) (-&gt; %)
                        (-&gt; % string?) (-&gt; % reader/parse-edn)))
          (f1 [%] (when (-&gt; % vector?) (-&gt; %)))]
         (or (if-let [query (http/request-&gt;transit-param request :query)] (-&gt; query f0 f1))
             (if-let [query (http/request-&gt;param         request :query)] (-&gt; query f0 f1)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0e697f34-a358-4fdf-8644-4b19af043643"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the query vector from the given request map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q809b3cea-4cd0-43c2-9744-3b669a8a4c5c"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- The primary source of the query vector is the transit parameters map of the given request.<br>- The fallback source of the query vector is the parameters map of the given request.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qedb8a222-cc38-41b4-8e7f-ecfdc40aadc2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8fcdce64-be2d-44aa-b3b2-4ac59a555d16"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q28dabd69-a507-468b-b2b7-3152ecafa577"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7f67b79e-0451-4000-bf36-af01866958d4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6bb7f5fc-6569-4b18-82de-062cf6a673ac"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6bb7f5fc-6569-4b18-82de-062cf6a673ac&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">request</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:params (map)(opt)<br>  {:query (string or vector)(opt)}<br> :transit-params (map)(opt)<br>  {:query (string or vector)(opt)}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf1c5aa19-3e27-4aaf-8dab-0104fe1414cc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">pathom-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.2.8.2</pre><a class="text--s" href="https://github.com/mt-extensions/pathom-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-extensions/pathom-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
