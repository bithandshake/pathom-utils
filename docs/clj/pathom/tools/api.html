<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>pathom-utils 0.2.7.9 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Clojure namespaces</pre><a href="https://mt-utilities.github.io/pathom-utils/clj/pathom/dev/api.html"><pre class="button color--hard-blue text--m ">pathom.dev.api</pre></a><a href="https://mt-utilities.github.io/pathom-utils/clj/pathom/tools/api.html"><pre class="button color--hard-blue text--m button--active">pathom.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Tutorials</pre><a href="#registering-handlers"><pre class="button color--hard-purple text--m">Registering handlers</pre></a><a href="#providing-registered-handlers"><pre class="button color--hard-purple text--m">Providing registered handlers</pre></a></div><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#environments"><pre class="button color--hard-blue text--m">ENVIRONMENTS</pre></a><a href="#handlers"><pre class="button color--hard-blue text--m">HANDLERS</pre></a><a href="#env-_mutation-dex"><pre class="button color--hard-blue text--m">env->mutation-dex</pre></a><a href="#env-_mutation-param"><pre class="button color--hard-blue text--m">env->mutation-param</pre></a><a href="#env-_mutation-params"><pre class="button color--hard-blue text--m">env->mutation-params</pre></a><a href="#env-_resolver-param"><pre class="button color--hard-blue text--m">env->resolver-param</pre></a><a href="#env-_resolver-params"><pre class="button color--hard-blue text--m">env->resolver-params</pre></a><a href="#env_-context"><pre class="button color--hard-blue text--m">env<-context</pre></a><a href="#env_-mutation-param"><pre class="button color--hard-blue text--m">env<-mutation-param</pre></a><a href="#env_-resolver-param"><pre class="button color--hard-blue text--m">env<-resolver-param</pre></a><a href="#get-environment"><pre class="button color--hard-blue text--m">get-environment</pre></a><a href="#reg-handlers_"><pre class="button color--hard-blue text--m">reg-handlers!</pre></a><a href="#remove-handlers_"><pre class="button color--hard-blue text--m">remove-handlers!</pre></a><a href="#request-_query"><pre class="button color--hard-blue text--m">request->query</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Clojure namespace</pre><pre class="color--black text--xxl text--wrap text--bold">pathom.tools.api</pre></div><div class="sections"><div class="section" id="registering-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Registering handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q684ca40d-4670-485a-b919-585eeee2a89e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q684ca40d-4670-485a-b919-585eeee2a89e&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbe8f8a50-31d9-4000-aaf5-9f27948e31e8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> function stores the provided handlers (mutation and/or resolver functions),<br>then rebuilds the corresponding environment by using the 'pci/register' function.<br><br>- Handles different environments (i.e. handler sets).<br>- Supports hot code reloading (by updating changed environments).<br>- If no environment ID is provided, the default environment ID is ':global'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa6b61d74-fe0f-4766-a776-362f0f605d4b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div></div></div><div class="section" id="providing-registered-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Providing registered handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa8c74382-7543-4c45-9778-7e1a7a6d3142"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa8c74382-7543-4c45-9778-7e1a7a6d3142&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qea275f57-8822-4bca-a07b-22c3f930d696"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#get-environment">'get-environment'</a> function provides a specific environment (i.e. handler set) to the 'p.eql/process' function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa1e5e6fb-f4c6-4a67-b745-0c81ab2bffeb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-resolver my-resolver})<br><br>(let [environment (get-environment :my-environment)]<br>     (p.eql/process environment [:my-reosolver]))</pre></div></div></div></div></div><div class="sections"><div class="section" id="handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">HANDLERS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd5bafc93-b779-4a73-8220-94c28addb784"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd5bafc93-b779-4a73-8220-94c28addb784&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce HANDLERS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0107cd8b-5ce6-486b-b4da-e92b828d37fc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored handlers (mutation and/or resolver functions).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q300e5fb7-294e-4b9e-b91a-586241679ac5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref HANDLERS)<br>=&gt;<br>{:my-environment {:my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...}<br>                  :my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qef7fd929-92b4-46b2-931a-0400cacac4f9"><button class="snippet--header" onClick="toggleCollapsible(&apos;qef7fd929-92b4-46b2-931a-0400cacac4f9&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:my-handler (mutation or resolver function)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="environments"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">ENVIRONMENTS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcb39f1fa-aefd-4e43-8d0a-9d5a4c19dba1"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcb39f1fa-aefd-4e43-8d0a-9d5a4c19dba1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce ENVIRONMENTS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3989beb7-05fc-408f-b250-d6cab4efb848"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored environments.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5ef49c9c-406a-4eb9-b099-bd405524b88b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref ENVIRONMENTS)<br>=&gt;<br>{:my-environment<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br>   :com.wsscode.pathom3.connect.indexes/index-io {...}<br>   :com.wsscode.pathom3.connect.indexes/index-oir {...}<br>   :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7826688b-ee86-44c7-90e8-e2e6b9397f4a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7826688b-ee86-44c7-90e8-e2e6b9397f4a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br>   :com.wsscode.pathom3.connect.indexes/index-io (map)<br>   :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br>   :com.wsscode.pathom3.connect.indexes/index-oir (map)<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env_-context"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-context</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1c31af41-0f3b-4768-b2e5-07950da8a05e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1c31af41-0f3b-4768-b2e5-07950da8a05e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-context
  [env context]
  (merge env context))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd5b15ae2-df19-49a2-90db-5fb45f553cfc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Merges the given context map onto the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa4654efb-cf92-4c09-839d-044f4fa4a3b0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-context {...} {:query [:my-resolver] :request {...}})<br>=&gt;<br>{:query [:my-resolver] :request {...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5d401955-e0d4-4fb0-b227-54875986e97a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd44a2df8-ee14-43b3-a626-dc33ab4d8714"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q64aa8307-187a-40b1-916f-a806737ed1a0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q8081fa0b-05ac-4287-ac68-c21e6747782a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q8081fa0b-05ac-4287-ac68-c21e6747782a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-params
  [env]
  (-&gt; env pathom.co/params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbc9ed3de-dcbc-4e00-979f-11194159dd0f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the resolver parameters from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qad650f9f-561c-46b4-a497-3a1550c76667"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2f9ed097-cffc-42e5-9dcd-92bd8d15fb1c"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q74e56fb2-9501-4f6d-a43a-1cc785857a4f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q23ca7b49-544c-4d48-b0d9-dc4dcfd9ffeb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf8a7b7f5-0835-49b1-bfdf-c48d1daabc92"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [params (env-&gt;resolver-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qad9c6950-a281-4c08-abab-af309b95d16a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qad9c6950-a281-4c08-abab-af309b95d16a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2627975b-6492-45b9-9836-6f1a8f395577"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9c1465ca-5da1-42c4-83b4-bb457808efcd"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9c1465ca-5da1-42c4-83b4-bb457808efcd&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-param
  [env param-key]
  (-&gt; env (env-&gt;resolver-params)
          (get param-key)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa068671c-c1f3-4041-8a5d-1af5d79f9119"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific resolver parameter from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q94ff0fa4-c62b-46d0-b1f7-60ca288b92a9"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q78986661-3235-4f7f-bc95-574444d2415b"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3acf0a79-75ca-4cf9-b208-4ff4d0abde56"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q17d2f11a-24b2-4cf5-bd1d-2c1b75a8fc2f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q43cae29b-6d2b-4c9d-b954-8a20ea06db86"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [param (env-&gt;resolver-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe36ad4c1-8bd6-4d47-818c-d31ae6d36495"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe36ad4c1-8bd6-4d47-818c-d31ae6d36495&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe51834c8-7ef9-493f-a856-511c9664c6d2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9c6fd686-64f7-4016-8040-1ef4f5234e0c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2531e97c-6c85-429d-9130-a7424bd6623a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2531e97c-6c85-429d-9130-a7424bd6623a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-resolver-param
  [env param-key param-value]
  (assoc-in env [:com.wsscode.pathom3.connect.planner/node :com.wsscode.pathom3.connect.planner/params param-key] param-value))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe12e8da1-5554-4831-b2a3-b9eb11dff330"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a resolver parameter.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfaf1a8f7-0d05-4507-948d-ea007fe80ecb"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbc465e02-b564-4573-991f-3b0365415d95"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-resolver-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value" ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa61ad020-6183-4e1b-b4bb-bd7f4c01b053"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2f7ba486-4c98-4780-9327-2ccef75a09e2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbe6cec1b-3b9b-4d1d-97b4-e86f34a78310"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q20d1e0fb-6ec3-47ed-8e5c-14348b1e8f1c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q20d1e0fb-6ec3-47ed-8e5c-14348b1e8f1c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)<br>  {:com.wsscode.pathom3.connect.planner/params (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env-_mutation-dex"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-dex</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q320675b7-010a-463b-a049-189f66bdeaf9"><button class="snippet--header" onClick="toggleCollapsible(&apos;q320675b7-010a-463b-a049-189f66bdeaf9&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-dex
  [env mutation-name]
  (letfn [(f0 [%] (-&gt; % :dispatch-key (= (-&gt; mutation-name name symbol))))]
         (-&gt; env (:com.wsscode.pathom3.connect.planner/graph)
                 (:com.wsscode.pathom3.connect.planner/mutations)
                 (vector/first-dex-by f0))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa21c1972-0617-40b5-bdb2-b56bbb760e44"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the index of a specific mutation within the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qeb6917c3-aff9-4917-b314-80c8d1eba98d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb420a498-fdff-454a-b592-ecb785f32911"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation ...} {...} ...] ...} ...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf2c79651-1694-4695-bdd9-8f390f1e15d8"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf2c79651-1694-4695-bdd9-8f390f1e15d8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf8324970-ff3d-4517-91db-9a73a19f1968"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3b7a855b-5b56-4cf2-8714-35ef377b8b87"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">integer</pre></div></div></div></div><div class="section" id="env-_mutation-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdae8e674-6bf6-4e14-815a-f70d585634f4"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdae8e674-6bf6-4e14-815a-f70d585634f4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-params
  ([env]
   (env-&gt;mutation-params env nil))

  ([env mutation-name]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/get-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1c5e599d-d1fc-4e1d-b93b-b3cc1ee23f14"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the mutation parameters from the given environment map.<br>If the mutation name is not provided it returns the parameters of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q163f7300-d374-4f93-a499-d4ca0f50c822"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qeb2e1e70-83ac-43cb-b569-7b8fc6a30684"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q07dada8e-dad2-41d5-a436-e62250bf860a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q590a2a5a-6530-49bb-80ea-462c9fc4d35a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1f8e0e7c-8c93-4baf-a746-594f70b6fb94"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe1fc7898-3608-49a6-aa67-184aff68e15b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [params (env-&gt;mutation-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3fb94110-4cd4-46ae-80a1-30697240fedf"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3fb94110-4cd4-46ae-80a1-30697240fedf&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf866a890-9a89-4abf-8d51-3b170a38ea39"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qed77e155-39a2-4d42-8d7c-d10b338be2b8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5c49d148-4906-464c-a085-581708cde9c1"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5c49d148-4906-464c-a085-581708cde9c1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-param
  ([env param-key]
   (-&gt; env (env-&gt;mutation-params)
           (get param-key)))

  ([env mutation-name param-key]
   (-&gt; env (env-&gt;mutation-params mutation-name)
           (get param-key))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0631107a-8020-421e-8f2e-edb48e80adfd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific mutation parameter from the given environment map.<br>If the mutation name is not provided it returns the parameter of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0c8b48f4-3b16-4c36-9039-bdf8bb0014a1"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd7b0b6b7-484d-4fdb-9ae5-7d137bc341fd"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7252326b-bc00-426b-8afe-5f1085eb354c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd7edd626-7027-42b6-8836-2fbf680e3c47"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc6bfce3a-ca67-434f-91f3-d83288a85d2f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0944c6f6-f703-4766-955d-7356cef91161"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [param (env-&gt;mutation-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0957d7e1-94a5-4210-992a-56f15ada95b0"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0957d7e1-94a5-4210-992a-56f15ada95b0&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa0e8cad4-38f3-4f14-be87-fe6fbd6008ee"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2a0c2cfa-6096-47bf-8a9a-b512dfd3b3da"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qca60c4db-31b1-4d16-9a95-e012185a3d44"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q84bbb81f-5e39-4872-850e-99d39ebf0752"><button class="snippet--header" onClick="toggleCollapsible(&apos;q84bbb81f-5e39-4872-850e-99d39ebf0752&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-mutation-param
  ([env param-key param-value]
   (env&lt;-mutation-param env nil param-key param-value))

  ([env mutation-name param-key param-value]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/update-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]
                             assoc param-key param-value))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4f54126f-3a38-4a04-9d53-81d67b9a18f3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a mutation parameter.<br>If the mutation name is not provided it associates the value to the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3ca51584-5189-44ae-8f39-25d0f64cbe75"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q32ab3296-fc5f-4baf-9fef-7b07a8d3309e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7f6e99a0-06c0-40cb-9b35-b3ba21740865"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-mutation :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q49f91661-f4a4-43fb-b384-86c3ad5fc625"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1a26a11f-2764-4871-97fa-6ffb57fc18e2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc3037ece-37c2-4e5c-9192-66184e15f70c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q81ec6ff3-9ddb-4459-b5d1-ca0afe73373a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4b5f04e4-19a2-4808-97b1-266d93f033a6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4b5f04e4-19a2-4808-97b1-266d93f033a6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [{:params (map) ...} ...]<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="get-environment"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-environment</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1fecd743-6c5e-43ba-ade6-f7db3e32f724"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1fecd743-6c5e-43ba-ade6-f7db3e32f724&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-environment
  ([]
   (get-environment :global))

  ([environment-id]
   (-&gt; register.state/ENVIRONMENTS deref (get environment-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q98a5bc96-4564-447c-8f8c-67607d3f480e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- Returns an environment map that contains resolver and mutation functions registered by the <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> functions.<br>- Equivalent to the 'p.ci/register' function (in terms of output).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdc7f6684-0821-4bb8-9f42-0ba6de04ec8e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q43c4b840-be50-4b97-8c9a-271be6e7198f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment :my-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc3c2d6ed-6963-4909-9721-a16a95bc34ce"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc3c2d6ed-6963-4909-9721-a16a95bc34ce&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd7632028-5be9-4d9b-8b34-9c7f7a46784d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd7632028-5be9-4d9b-8b34-9c7f7a46784d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br> :com.wsscode.pathom3.connect.indexes/index-io (map)<br> :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br> :com.wsscode.pathom3.connect.indexes/index-oir (map)<br> :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br> ...}</pre></div></div></div></div><div class="section" id="reg-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd516bc47-a6ae-4b40-af75-97749c3b5f8e"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd516bc47-a6ae-4b40-af75-97749c3b5f8e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn reg-handlers!
  ([handlers]
   (reg-handlers! :global handlers))

  ([environment-id handlers]
   (swap! register.state/HANDLERS update environment-id merge handlers)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcb3bd39c-2cc7-4103-a859-698d7b91cbf8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Register multiple handlers (mutation and/or resolver functions) (into the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qda3a4656-00fb-481e-a0e0-4a3cd76cadad"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the given handlers are registered into.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qab76014f-cc83-4e7e-a882-67f8daeb7ee7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(reg-handlers! :my-environment {...})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0f752227-6566-4d9f-96bd-6f1a3dafed04"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q296116f5-4b9f-4250-8cf8-2f79d6378a2d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q296116f5-4b9f-4250-8cf8-2f79d6378a2d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q360f6dd4-0442-4a45-9fdc-ef7572249750"><button class="snippet--header" onClick="toggleCollapsible(&apos;q360f6dd4-0442-4a45-9fdc-ef7572249750&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handlers</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-handler (mutation or resolver function)}</pre></div></div></div></div><div class="section" id="remove-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">remove-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcd0b914d-2275-4450-a148-943d2ca0b166"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcd0b914d-2275-4450-a148-943d2ca0b166&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn remove-handlers!
  ([handler-ids]
   (remove-handlers! :global handler-ids))

  ([environment-id handler-ids]
   (swap! register.state/HANDLERS update environment-id map/remove-keys handler-ids)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdedb91ac-1d79-4645-8246-2adb74807d0c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Removes multiple handlers (mutation and/or resolver functions) (from the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfa04c656-018a-4a4d-a327-581e4e3bde10"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the identified handlers are removed from.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q90714cc8-98b3-4b80-98d5-68192a6c0765"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe7e60e18-ff83-477c-a51d-730a08eb9003"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})<br>(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe1d601fd-0cdf-4010-8139-89b18d18ba1b"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe1d601fd-0cdf-4010-8139-89b18d18ba1b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q5484e454-8ca8-4286-869e-da9649808a8b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q5484e454-8ca8-4286-869e-da9649808a8b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-ids</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(keyword) handler-id]</pre></div></div></div></div><div class="section" id="request-_query"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">request->query</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q30a06af4-6abb-4bf2-ac8f-22a9a46bddd2"><button class="snippet--header" onClick="toggleCollapsible(&apos;q30a06af4-6abb-4bf2-ac8f-22a9a46bddd2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn request-&gt;query
  [request]
  (letfn [(f0 [%] (cond (-&gt; % vector?) (-&gt; %)
                        (-&gt; % string?) (-&gt; % reader/parse-edn)))
          (f1 [%] (when (-&gt; % vector?) (-&gt; %)))]
         (or (if-let [query (http/request-&gt;transit-param request :query)] (-&gt; query f0 f1))
             (if-let [query (http/request-&gt;param         request :query)] (-&gt; query f0 f1)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc1abafe8-7413-4950-aa82-970b94eaf1ea"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the query vector from the given request map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9060fd77-ad5d-47dd-8fe9-ead00def4619"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- The primary source of the query vector is the transit parameters map of the given request.<br>- The fallback source of the query vector is the parameters map of the given request.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe3cb2d28-8514-412f-ad71-2a9dfaa054c2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfe842434-ccc3-4c88-a7a3-8d857064bfbd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbe5c84eb-85c0-4bb0-a3a6-c79b45c6895d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q454f82c2-98e8-4fc8-8e91-afc6f18813e2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe7350fb4-2ace-4372-be27-078b4de69185"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe7350fb4-2ace-4372-be27-078b4de69185&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">request</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:params (map)(opt)<br>  {:query (string or vector)(opt)}<br> :transit-params (map)(opt)<br>  {:query (string or vector)(opt)}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q5e273a30-a119-4e9d-90d7-c91998b9b661"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">pathom-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.2.7.9</pre><a class="text--s" href="https://github.com/mt-utilities/pathom-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-utilities/pathom-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
