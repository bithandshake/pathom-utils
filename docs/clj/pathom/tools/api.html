<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>pathom-utils 0.2.8.4 documentation</title><link href="https://raw.githubusercontent.com/mt-extensions/pathom-utils/release/mt-extensions-logo.png" rel="icon" type="image/png"></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Clojure namespaces</pre><a href="https://mt-extensions.github.io/pathom-utils/clj/pathom/debug/api.html"><pre class="button color--hard-blue text--m ">pathom.debug.api</pre></a><a href="https://mt-extensions.github.io/pathom-utils/clj/pathom/tools/api.html"><pre class="button color--hard-blue text--m button--active">pathom.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Tutorials</pre><a href="#registering-handlers"><pre class="button color--hard-purple text--m">Registering handlers</pre></a><a href="#providing-registered-handlers"><pre class="button color--hard-purple text--m">Providing registered handlers</pre></a></div><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#environments"><pre class="button color--hard-blue text--m">ENVIRONMENTS</pre></a><a href="#handlers"><pre class="button color--hard-blue text--m">HANDLERS</pre></a><a href="#env-_mutation-dex"><pre class="button color--hard-blue text--m">env->mutation-dex</pre></a><a href="#env-_mutation-param"><pre class="button color--hard-blue text--m">env->mutation-param</pre></a><a href="#env-_mutation-params"><pre class="button color--hard-blue text--m">env->mutation-params</pre></a><a href="#env-_resolver-param"><pre class="button color--hard-blue text--m">env->resolver-param</pre></a><a href="#env-_resolver-params"><pre class="button color--hard-blue text--m">env->resolver-params</pre></a><a href="#env_-context"><pre class="button color--hard-blue text--m">env<-context</pre></a><a href="#env_-mutation-param"><pre class="button color--hard-blue text--m">env<-mutation-param</pre></a><a href="#env_-resolver-param"><pre class="button color--hard-blue text--m">env<-resolver-param</pre></a><a href="#get-environment"><pre class="button color--hard-blue text--m">get-environment</pre></a><a href="#reg-handlers_"><pre class="button color--hard-blue text--m">reg-handlers!</pre></a><a href="#remove-handlers_"><pre class="button color--hard-blue text--m">remove-handlers!</pre></a><a href="#request-_query"><pre class="button color--hard-blue text--m">request->query</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Clojure namespace</pre><pre class="color--black text--xxl text--wrap text--bold">pathom.tools.api</pre></div><div class="sections"><div class="section" id="registering-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Registering handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qfe6f0eff-3ee8-4c06-8cce-00c75c92e23d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qfe6f0eff-3ee8-4c06-8cce-00c75c92e23d&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa6bf8922-65c7-4a7d-b8d1-d8ba6a6e109f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> function stores the provided handlers (mutation and/or resolver functions),<br>then rebuilds the corresponding environment by using the 'pci/register' function.<br><br>- Handles different environments (i.e. handler sets).<br>- Supports hot code reloading (by updating changed environments).<br>- If no environment ID is provided, the default environment ID is ':global'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6e3cc622-8917-4392-ab2c-bb42c3fe6a30"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div></div></div><div class="section" id="providing-registered-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Providing registered handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q82127ce4-8788-4998-90fa-e08b1affe403"><button class="snippet--header" onClick="toggleCollapsible(&apos;q82127ce4-8788-4998-90fa-e08b1affe403&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q91bfeaf4-7d91-499c-89b5-19ce0fffc359"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#get-environment">'get-environment'</a> function provides a specific environment (i.e. handler set) to the 'p.eql/process' function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcd2001a0-cfed-48bb-9613-e24c63b71128"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-resolver my-resolver})<br><br>(let [environment (get-environment :my-environment)]<br>     (p.eql/process environment [:my-reosolver]))</pre></div></div></div></div></div><div class="sections"><div class="section" id="handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">HANDLERS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qef379304-85c9-4a13-9cc0-7c21f8cf85ef"><button class="snippet--header" onClick="toggleCollapsible(&apos;qef379304-85c9-4a13-9cc0-7c21f8cf85ef&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce HANDLERS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5a52471c-2100-4c64-8270-e6ce9a44f7ba"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored handlers (mutation and/or resolver functions).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfe4dbe12-a0e8-40cd-ad1a-11e9b3990725"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref HANDLERS)<br>=&gt;<br>{:my-environment {:my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...}<br>                  :my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1f6a1a48-9206-4a46-a7bf-039459921a14"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1f6a1a48-9206-4a46-a7bf-039459921a14&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:my-handler (mutation or resolver function)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="environments"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">ENVIRONMENTS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qce84c4fe-effa-44f2-8646-39045ce63a7a"><button class="snippet--header" onClick="toggleCollapsible(&apos;qce84c4fe-effa-44f2-8646-39045ce63a7a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce ENVIRONMENTS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd20fb199-b5ab-4a5f-97e7-ce2ae192b399"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored environments.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q88521b13-5960-4c7a-9f61-4cf6f272f52a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref ENVIRONMENTS)<br>=&gt;<br>{:my-environment<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br>   :com.wsscode.pathom3.connect.indexes/index-io {...}<br>   :com.wsscode.pathom3.connect.indexes/index-oir {...}<br>   :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2a3e1de2-3c9f-4cdc-aaea-887a4d7cd038"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2a3e1de2-3c9f-4cdc-aaea-887a4d7cd038&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br>   :com.wsscode.pathom3.connect.indexes/index-io (map)<br>   :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br>   :com.wsscode.pathom3.connect.indexes/index-oir (map)<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env_-context"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-context</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q852140b5-ec0c-49da-ba78-7d5be8b65fda"><button class="snippet--header" onClick="toggleCollapsible(&apos;q852140b5-ec0c-49da-ba78-7d5be8b65fda&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-context
  [env context]
  (merge env context))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q318f9f80-8740-4746-84f6-b3dc87c84bb5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Merges the given context map onto the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q81e0579b-f974-4970-9551-6f9665c2c5fb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-context {...} {:query [:my-resolver] :request {...}})<br>=&gt;<br>{:query [:my-resolver] :request {...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9cb5d40e-a082-467a-9399-198e5970d3d7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc9753f49-38d8-4511-b112-7bf109ae963e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf6701282-6c0d-4430-8fd9-21e1a81fc853"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcecde24c-aa53-4226-9fbe-bb5593ee5c00"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcecde24c-aa53-4226-9fbe-bb5593ee5c00&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-params
  [env]
  (-&gt; env pathom.co/params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q88cd65cd-9a81-4bf1-bb18-59187a2d1c85"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the resolver parameters from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q50d2145d-19ff-481d-9e47-cc1e6e3f3c3c"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q60c9caf5-4928-48f5-b5b2-aba619a5043b"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd0a61b94-272e-4a93-817d-358035d05b94"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5c2f15b8-f9c3-40e1-b26b-9fda1b190737"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3d92cee6-1436-4f26-ac93-cc9fbd1e2cd1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [params (env-&gt;resolver-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd4714454-6ffb-4ec3-a72d-bd7f518103d3"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd4714454-6ffb-4ec3-a72d-bd7f518103d3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2906118a-1847-4af8-a0ab-2676a348fd45"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1acac847-8b49-490d-ade6-a9bcd0d7bfb7"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1acac847-8b49-490d-ade6-a9bcd0d7bfb7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-param
  [env param-key]
  (-&gt; env (env-&gt;resolver-params)
          (get param-key)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa21e1624-b2ea-46de-99de-945de2afdf2e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific resolver parameter from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q242c1c57-dfbc-4783-b8b4-42129d639d81"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q13c94924-9f7c-41e8-8a9b-5b3b4926c520"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4cdb5fdd-c71a-4231-8080-182d29ccd75a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q247f59b8-034f-4686-a672-48f292831897"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc9342577-0d8c-4d16-88a7-286af0b425de"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [param (env-&gt;resolver-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0244a7da-3ff7-499a-be89-fd409cb2afea"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0244a7da-3ff7-499a-be89-fd409cb2afea&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa3fd7b83-89cb-4e88-b10b-ccb9d5034e20"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q0d17d060-c1bc-49e8-a500-fb6b55a8dc19"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q4e500344-5044-4cdd-8378-3944f747dccb"><button class="snippet--header" onClick="toggleCollapsible(&apos;q4e500344-5044-4cdd-8378-3944f747dccb&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-resolver-param
  [env param-key param-value]
  (assoc-in env [:com.wsscode.pathom3.connect.planner/node :com.wsscode.pathom3.connect.planner/params param-key] param-value))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfcff32ab-3218-464c-b659-449b131343d4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a resolver parameter.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q081d46ff-da9b-46dd-823a-1f578de09242"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qefc1f9df-92b3-4121-95e0-89cec0596cf1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-resolver-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value" ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3ea8354d-aa08-4c8a-80cc-fc1ce2071f0e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q1a0b0d3c-2d7f-43a7-94c7-1e37efeec25f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2df466a3-d517-4c45-bfd6-69507cdb4a0e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qbb7fbb79-c38d-46d7-b971-4012603a031f"><button class="snippet--header" onClick="toggleCollapsible(&apos;qbb7fbb79-c38d-46d7-b971-4012603a031f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)<br>  {:com.wsscode.pathom3.connect.planner/params (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env-_mutation-dex"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-dex</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdd70d05d-ad63-4ba3-95cc-8d7129b3891f"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdd70d05d-ad63-4ba3-95cc-8d7129b3891f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-dex
  [env mutation-name]
  (letfn [(f0 [%] (-&gt; % :dispatch-key (= (-&gt; mutation-name name symbol))))]
         (-&gt; env (:com.wsscode.pathom3.connect.planner/graph)
                 (:com.wsscode.pathom3.connect.planner/mutations)
                 (vector/first-dex-by f0))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q49c0b5e5-2291-4e8d-af58-5c28a75d2b22"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the index of a specific mutation within the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe58ff423-b19c-4a1b-8980-8cd7b0a27d94"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7f9f348d-8622-43dd-ae87-1d950429c790"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation ...} {...} ...] ...} ...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qffff1c85-f347-452b-bc05-b136a302ef8e"><button class="snippet--header" onClick="toggleCollapsible(&apos;qffff1c85-f347-452b-bc05-b136a302ef8e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2e76c775-b802-49e4-a873-f155846064df"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q936c5bdd-e1a4-4273-a42e-b0d44d4a2cfa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">integer</pre></div></div></div></div><div class="section" id="env-_mutation-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q8972225c-41d0-441f-a688-32708d673e1b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q8972225c-41d0-441f-a688-32708d673e1b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-params
  ([env]
   (env-&gt;mutation-params env nil))

  ([env mutation-name]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/get-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7dcfe735-fa78-43a4-b799-a29b10ce5fb4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the mutation parameters from the given environment map.<br>If the mutation name is not provided it returns the parameters of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdfc01a11-3b27-4de4-b410-8c87e91ef744"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7ece62d7-e077-46e5-8f51-670c1f618f98"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfcf0427d-4654-48d0-9eba-9c062175dfe1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbf5b206a-5eff-45aa-8c7f-0ff116d02302"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0fe96624-cd7c-4fd6-b3da-dd3193d271e2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc299e640-a83a-4633-8cb7-c83753acc158"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [params (env-&gt;mutation-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6dab46d8-842c-4c22-bf95-05097a441f88"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6dab46d8-842c-4c22-bf95-05097a441f88&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q47100240-6020-403e-ae70-6bbfc6a6a894"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q0b543a6b-c0cd-4d84-9b57-0f9136c894cf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb056bf24-0e6c-410e-bd21-87bb05dabd38"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb056bf24-0e6c-410e-bd21-87bb05dabd38&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-param
  ([env param-key]
   (-&gt; env (env-&gt;mutation-params)
           (get param-key)))

  ([env mutation-name param-key]
   (-&gt; env (env-&gt;mutation-params mutation-name)
           (get param-key))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q77a07063-1df2-43c1-8d72-0b1e73515e75"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific mutation parameter from the given environment map.<br>If the mutation name is not provided it returns the parameter of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa54c566c-ee1c-4a4a-863a-5c90e8b84298"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb2be30fd-cb3f-42bf-98e8-714990443568"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9e8f1f83-361e-40b4-be49-727b4f887816"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q82cff29f-1ff1-4777-81fd-cfd5feaa2e64"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q10f24e9e-e887-441d-8e9b-acbd0bc690d9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q448b004b-9dc6-4ace-8f68-e28455a2b23e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [param (env-&gt;mutation-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q080ca515-2c48-4151-9c9c-bf0905ef66f8"><button class="snippet--header" onClick="toggleCollapsible(&apos;q080ca515-2c48-4151-9c9c-bf0905ef66f8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q7802cc32-62e1-4d1a-b1b4-ce1e43332141"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qfd81c741-cd72-4ece-b5c8-e93b3dada3ee"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6f7e81fe-6138-40e5-9825-565a15a886c2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q99a51a6d-e0ab-47b2-95c5-80d7da83d2c1"><button class="snippet--header" onClick="toggleCollapsible(&apos;q99a51a6d-e0ab-47b2-95c5-80d7da83d2c1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-mutation-param
  ([env param-key param-value]
   (env&lt;-mutation-param env nil param-key param-value))

  ([env mutation-name param-key param-value]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/update-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]
                             assoc param-key param-value))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9b30f1a4-6009-4b3c-b768-c34dd65471d0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a mutation parameter.<br>If the mutation name is not provided it associates the value to the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q05cfcfe0-0eff-41c1-a8ee-7afa59fb3934"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe2c30096-ef53-4880-8616-8113b372545b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa3db6f88-215d-4860-87ed-d05a82e60373"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-mutation :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q81a985d5-fd6b-4433-9523-6579c25b029d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd63752e6-a28d-467e-b84a-f945211672a9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q561d9b17-676e-4be7-a011-8e9d66387492"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q139ad48f-d56b-4b5e-89d4-e18a60f5d97b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd333311d-8445-4a1b-b443-d05cf905462e"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd333311d-8445-4a1b-b443-d05cf905462e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [{:params (map) ...} ...]<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="get-environment"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-environment</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9578b85e-6e89-47fd-9761-cec0970aad5c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9578b85e-6e89-47fd-9761-cec0970aad5c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-environment
  ([]
   (get-environment :global))

  ([environment-id]
   (-&gt; register.state/ENVIRONMENTS deref (get environment-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2baccceb-7782-4d3e-848f-465ffd0b5754"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- Returns an environment map that contains resolver and mutation functions registered by the <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> functions.<br>- Equivalent to the 'p.ci/register' function (in terms of output).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2c917205-f63a-46a9-a67b-16b8b152b2f2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q268bcef1-f12a-442d-8ca7-2165bda7eb4d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment :my-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc9b03eac-54cd-49b8-9c4c-7e1dae179208"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc9b03eac-54cd-49b8-9c4c-7e1dae179208&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6a23f147-170b-4752-970d-d5e08e4de02a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6a23f147-170b-4752-970d-d5e08e4de02a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br> :com.wsscode.pathom3.connect.indexes/index-io (map)<br> :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br> :com.wsscode.pathom3.connect.indexes/index-oir (map)<br> :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br> ...}</pre></div></div></div></div><div class="section" id="reg-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q91ea19c1-3f0f-4dc9-893d-51d8c2ce0ed4"><button class="snippet--header" onClick="toggleCollapsible(&apos;q91ea19c1-3f0f-4dc9-893d-51d8c2ce0ed4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn reg-handlers!
  ([handlers]
   (reg-handlers! :global handlers))

  ([environment-id handlers]
   (swap! register.state/HANDLERS update environment-id merge handlers)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5a6e9ef1-6af2-4f0c-9444-cc9abb4252bb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Register multiple handlers (mutation and/or resolver functions) (into the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc9b0ca92-b61d-4297-bbd2-dbd084c1de81"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the given handlers are registered into.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4e896477-7187-4383-a8f7-6ac677abe75b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(reg-handlers! :my-environment {...})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q03a92e9d-91d2-4adc-a872-312e654d873a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe03ee868-97e1-407a-834f-c503278ae531"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe03ee868-97e1-407a-834f-c503278ae531&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9a7f8432-1ac2-42e7-b42e-d25f9d1bad6a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9a7f8432-1ac2-42e7-b42e-d25f9d1bad6a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handlers</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-handler (mutation or resolver function)}</pre></div></div></div></div><div class="section" id="remove-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">remove-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q84350786-c2bd-4a67-805a-22b804087a77"><button class="snippet--header" onClick="toggleCollapsible(&apos;q84350786-c2bd-4a67-805a-22b804087a77&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn remove-handlers!
  ([handler-ids]
   (remove-handlers! :global handler-ids))

  ([environment-id handler-ids]
   (swap! register.state/HANDLERS update environment-id map/remove-keys handler-ids)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3b006a97-4039-4755-9761-2758f208f092"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Removes multiple handlers (mutation and/or resolver functions) (from the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qff85d41a-d24d-49ad-8af3-d95d5a44d2f7"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the identified handlers are removed from.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4e56e4c3-7e75-440e-ab6c-db07fa69495c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q67d6d734-e710-4b93-bc65-13b89dd598f5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})<br>(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q040bad15-2318-4642-aa72-0804ee888ff6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q040bad15-2318-4642-aa72-0804ee888ff6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q78a6f9ef-da04-4617-ad7f-71bedc54d870"><button class="snippet--header" onClick="toggleCollapsible(&apos;q78a6f9ef-da04-4617-ad7f-71bedc54d870&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-ids</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(keyword) handler-id]</pre></div></div></div></div><div class="section" id="request-_query"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">request->query</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6116ad50-2d3e-421f-809f-ca9880886fba"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6116ad50-2d3e-421f-809f-ca9880886fba&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn request-&gt;query
  [request]
  (letfn [(f0 [%] (cond (-&gt; % vector?) (-&gt; %)
                        (-&gt; % string?) (-&gt; % reader/parse-edn)))
          (f1 [%] (when (-&gt; % vector?) (-&gt; %)))]
         (or (if-let [query (http/request-&gt;transit-param request :query)] (-&gt; query f0 f1))
             (if-let [query (http/request-&gt;param         request :query)] (-&gt; query f0 f1)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q05a1f89c-700f-4c00-986a-f839d8ea76de"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the query vector from the given request map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9c9d028a-ca7e-40b0-a253-37a788d7f5a2"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- The primary source of the query vector is the transit parameters map of the given request.<br>- The fallback source of the query vector is the parameters map of the given request.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7c7b2314-7a6f-4206-9748-065d03531ad7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf30117c7-d5d8-451b-94dc-b16b8e40702a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q605e7645-c7a6-4c64-b804-e2ac9d1bf01f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa6e9d8cb-f07e-487b-972c-38ff762fbe25"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q96a0b101-a365-4747-8940-a6501fa0bc51"><button class="snippet--header" onClick="toggleCollapsible(&apos;q96a0b101-a365-4747-8940-a6501fa0bc51&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">request</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:params (map)(opt)<br>  {:query (string or vector)(opt)}<br> :transit-params (map)(opt)<br>  {:query (string or vector)(opt)}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2bb415ea-6036-41b6-9178-50c8217739d4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">pathom-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.2.8.4</pre><a class="text--s" href="https://github.com/mt-extensions/pathom-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-extensions/pathom-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
