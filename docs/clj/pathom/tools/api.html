<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}function toggleSidebar(sidebarId){sidebar=document.getElementById(sidebarId);if(sidebar.dataset.hidden==='true'){sidebar.dataset.hidden='false';}else{sidebar.dataset.hidden='true';}}</script><title>pathom-utils 0.2.8.0 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Clojure namespaces</pre><a href="https://mt-extensions.github.io/pathom-utils/clj/pathom/dev/api.html"><pre class="button color--hard-blue text--m ">pathom.dev.api</pre></a><a href="https://mt-extensions.github.io/pathom-utils/clj/pathom/tools/api.html"><pre class="button color--hard-blue text--m button--active">pathom.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Tutorials</pre><a href="#registering-handlers"><pre class="button color--hard-purple text--m">Registering handlers</pre></a><a href="#providing-registered-handlers"><pre class="button color--hard-purple text--m">Providing registered handlers</pre></a></div><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#environments"><pre class="button color--hard-blue text--m">ENVIRONMENTS</pre></a><a href="#handlers"><pre class="button color--hard-blue text--m">HANDLERS</pre></a><a href="#env-_mutation-dex"><pre class="button color--hard-blue text--m">env->mutation-dex</pre></a><a href="#env-_mutation-param"><pre class="button color--hard-blue text--m">env->mutation-param</pre></a><a href="#env-_mutation-params"><pre class="button color--hard-blue text--m">env->mutation-params</pre></a><a href="#env-_resolver-param"><pre class="button color--hard-blue text--m">env->resolver-param</pre></a><a href="#env-_resolver-params"><pre class="button color--hard-blue text--m">env->resolver-params</pre></a><a href="#env_-context"><pre class="button color--hard-blue text--m">env<-context</pre></a><a href="#env_-mutation-param"><pre class="button color--hard-blue text--m">env<-mutation-param</pre></a><a href="#env_-resolver-param"><pre class="button color--hard-blue text--m">env<-resolver-param</pre></a><a href="#get-environment"><pre class="button color--hard-blue text--m">get-environment</pre></a><a href="#reg-handlers_"><pre class="button color--hard-blue text--m">reg-handlers!</pre></a><a href="#remove-handlers_"><pre class="button color--hard-blue text--m">remove-handlers!</pre></a><a href="#request-_query"><pre class="button color--hard-blue text--m">request->query</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Clojure namespace</pre><pre class="color--black text--xxl text--wrap text--bold">pathom.tools.api</pre></div><div class="sections"><div class="section" id="registering-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Registering handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q21ee9fa3-56e3-4b84-9b9b-71dba5903d9c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q21ee9fa3-56e3-4b84-9b9b-71dba5903d9c&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q33ae9cee-32b1-476d-aaf3-84069ae8163b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> function stores the provided handlers (mutation and/or resolver functions),<br>then rebuilds the corresponding environment by using the 'pci/register' function.<br><br>- Handles different environments (i.e. handler sets).<br>- Supports hot code reloading (by updating changed environments).<br>- If no environment ID is provided, the default environment ID is ':global'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2b0ed109-905c-4c0b-9966-2690959b9a3f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div></div></div><div class="section" id="providing-registered-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Providing registered handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qfbe1e322-d1f2-40ba-a2ea-6b06bebf6a01"><button class="snippet--header" onClick="toggleCollapsible(&apos;qfbe1e322-d1f2-40ba-a2ea-6b06bebf6a01&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdb95a277-dcaf-4137-bb05-a5890a3bb43b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The <a class="inline-link color--hard-blue" href="#get-environment">'get-environment'</a> function provides a specific environment (i.e. handler set) to the 'p.eql/process' function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q02ea3a82-20d8-4493-88e7-71f42f96f9ad"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-resolver my-resolver})<br><br>(let [environment (get-environment :my-environment)]<br>     (p.eql/process environment [:my-reosolver]))</pre></div></div></div></div></div><div class="sections"><div class="section" id="handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">HANDLERS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb8ea8893-87e4-400f-ba51-f1f66e5ec206"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb8ea8893-87e4-400f-ba51-f1f66e5ec206&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce HANDLERS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8df35ddc-3902-4947-a1f3-f7a06af38d55"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored handlers (mutation and/or resolver functions).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qdd68b51b-b1e7-4a3b-a141-e3686f766523"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref HANDLERS)<br>=&gt;<br>{:my-environment {:my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...}<br>                  :my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6bf32b5c-302d-4f6a-801c-d417cad6f3da"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6bf32b5c-302d-4f6a-801c-d417cad6f3da&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:my-handler (mutation or resolver function)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="environments"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">ENVIRONMENTS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcbb027ff-5d4e-4f83-8f21-77c915694195"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcbb027ff-5d4e-4f83-8f21-77c915694195&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defonce ENVIRONMENTS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q494d98ee-fa66-4597-a8bf-a84c0da4c04c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Stored environments.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q37489956-19ca-42c1-aca3-0ae6848bb962"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(deref ENVIRONMENTS)<br>=&gt;<br>{:my-environment<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br>   :com.wsscode.pathom3.connect.indexes/index-io {...}<br>   :com.wsscode.pathom3.connect.indexes/index-oir {...}<br>   :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0803798d-e2c1-4029-83b5-27cb43eb6fd8"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0803798d-e2c1-4029-83b5-27cb43eb6fd8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-environment (map)<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br>   :com.wsscode.pathom3.connect.indexes/index-io (map)<br>   :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br>   :com.wsscode.pathom3.connect.indexes/index-oir (map)<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env_-context"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-context</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qeb340624-e8ef-4f0e-a390-03114acf9ce4"><button class="snippet--header" onClick="toggleCollapsible(&apos;qeb340624-e8ef-4f0e-a390-03114acf9ce4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-context
  [env context]
  (merge env context))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2ded1192-6af2-4f99-aea1-66a83c9c0068"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Merges the given context map onto the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q3d54ddae-9db3-483a-adcb-83b592286208"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-context {...} {:query [:my-resolver] :request {...}})<br>=&gt;<br>{:query [:my-resolver] :request {...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q10868281-a286-448b-9b3e-2a058c6451e0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4b923691-0886-499a-832a-fe7ec8c94e43"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe07ea0a7-48d1-49d6-91a5-3d031265eb38"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6995f365-8af8-4057-9023-e2568d1a0957"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6995f365-8af8-4057-9023-e2568d1a0957&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-params
  [env]
  (-&gt; env pathom.co/params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qafad9c21-961d-4dfa-bf63-41d072817fa3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the resolver parameters from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1f468a6a-6712-4ba0-b17e-893c9fec0fc5"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q688818d1-dc67-40a2-bc3a-620d6df613b6"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb5588692-cd6d-4224-9310-6712b2bfc6ad"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q071092d8-d112-433c-a26b-8fe4de4a47c0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-params {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q76019571-4b0d-4ed4-94e5-b662c84a4a23"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [params (env-&gt;resolver-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q575caafd-cb80-4b2c-8431-d62acff9929b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q575caafd-cb80-4b2c-8431-d62acff9929b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qf7926208-06d8-42aa-80df-7cb998a3bdae"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2dc6d3e7-bd9e-4975-a1f7-6c5e5d0d863a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2dc6d3e7-bd9e-4975-a1f7-6c5e5d0d863a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;resolver-param
  [env param-key]
  (-&gt; env (env-&gt;resolver-params)
          (get param-key)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5f9d75ff-8e94-4e3d-be14-84c09eeffeab"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific resolver parameter from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qad106c89-55d2-44dd-a606-b66e101732c6"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q56fe53fb-35ea-4148-a005-728e412c9849"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf7fdc335-e74c-45f7-85ed-719122d1ee9a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q92b9eec8-fc80-48ff-8862-c080d42e24b0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;resolver-param {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q60cbf483-4fbc-428f-b641-e387d2a2b3e5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defresolver my-resolver<br>  [env _]<br>  (let [param (env-&gt;resolver-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc827455c-b850-41a4-b1e0-d9a9e01a2cd9"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc827455c-b850-41a4-b1e0-d9a9e01a2cd9&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8f7d1439-b323-4422-8dac-a6703f94ebaf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qbadcdcd5-1d9e-415a-a9f3-5be2197b9b5f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qc94e29f8-873e-4f0b-8534-bdee7888c7bc"><button class="snippet--header" onClick="toggleCollapsible(&apos;qc94e29f8-873e-4f0b-8534-bdee7888c7bc&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-resolver-param
  [env param-key param-value]
  (assoc-in env [:com.wsscode.pathom3.connect.planner/node :com.wsscode.pathom3.connect.planner/params param-key] param-value))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q04958dda-dd69-4de5-ad4d-6b686d722c89"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a resolver parameter.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc969af0b-4054-4039-acde-14d3461a4261"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9d526cd7-55d2-47da-afd3-1dc950204b16"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-resolver-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value" ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q205677c0-c1bd-41f5-8cab-f8b381378214"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6bdfaeb6-2aa0-4267-a347-11a2e9cf4340"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd608a84d-a77e-4d33-9335-9bbddec70ba3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q1dfbf719-5898-4b16-a244-55757a71e326"><button class="snippet--header" onClick="toggleCollapsible(&apos;q1dfbf719-5898-4b16-a244-55757a71e326&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/node (map)<br>  {:com.wsscode.pathom3.connect.planner/params (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env-_mutation-dex"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-dex</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd89392f1-e221-493b-ac7e-fc38b85c5ac2"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd89392f1-e221-493b-ac7e-fc38b85c5ac2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-dex
  [env mutation-name]
  (letfn [(f0 [%] (-&gt; % :dispatch-key (= (-&gt; mutation-name name symbol))))]
         (-&gt; env (:com.wsscode.pathom3.connect.planner/graph)
                 (:com.wsscode.pathom3.connect.planner/mutations)
                 (vector/first-dex-by f0))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qaa149634-2cae-4f5f-b4f1-d6e85644add5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the index of a specific mutation within the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4cfd52e5-16ee-4d9e-a7b1-c9d6443fb3a6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9a7d3b14-3565-447f-8137-d6acb755cf56"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-dex {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation ...} {...} ...] ...} ...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe9b25580-704b-41e6-af06-206a83d34935"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe9b25580-704b-41e6-af06-206a83d34935&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qfc5e1d37-3a25-472a-8f13-f552947cddbd"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe0bf2113-404e-49cd-a79b-640b5505b2e4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">integer</pre></div></div></div></div><div class="section" id="env-_mutation-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q611d9d06-d449-431f-865f-d4531fb2595a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q611d9d06-d449-431f-865f-d4531fb2595a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-params
  ([env]
   (env-&gt;mutation-params env nil))

  ([env mutation-name]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/get-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9e0b903b-3e8b-4248-acf1-f028618b071a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the mutation parameters from the given environment map.<br>If the mutation name is not provided it returns the parameters of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qe1ea0c4a-2d45-4771-8c4f-c0d0a8792e4c"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8418bd39-7abf-4528-b911-7ff1856a94dd"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q939c50a8-9eda-402e-8536-daab72044cb5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q21764de4-d7ad-48f6-ad57-606b4704114a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q552576e0-0689-485c-80a4-6ed7475cd603"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-params {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q06dbc989-c199-4934-95c7-454851b37993"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [params (env-&gt;mutation-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q99e7cb7d-0803-4c1d-a224-ba4031a2ff4e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q99e7cb7d-0803-4c1d-a224-ba4031a2ff4e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd40fb4a1-2fac-4c1f-82cd-e8cd2843c813"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qffeb65cf-bcb0-4745-bb68-9ea52e26544e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q964bc16b-2234-4505-8351-bb046863e62c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q964bc16b-2234-4505-8351-bb046863e62c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env-&gt;mutation-param
  ([env param-key]
   (-&gt; env (env-&gt;mutation-params)
           (get param-key)))

  ([env mutation-name param-key]
   (-&gt; env (env-&gt;mutation-params mutation-name)
           (get param-key))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa9c935da-41f5-4404-8bc1-770f4494c0fc"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns a specific mutation parameter from the given environment map.<br>If the mutation name is not provided it returns the parameter of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q59937d80-bb68-4118-8b9d-ccf02e97f856"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1521867f-602f-4079-b39a-75a8fa032c79"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q52d41254-fa96-48eb-b93b-c6c7f5d32510"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbe3e734c-86ac-4fdc-b7c5-e64a2dd180a5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc88bf70f-042d-4630-847e-3fb3005847d0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env-&gt;mutation-param {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q79b020d2-b339-49d6-9fbc-1f4d7e456ef2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation<br>  [env _]<br>  (let [param (env-&gt;mutation-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q99f44067-d1a2-4d16-aaa1-32233a89cefb"><button class="snippet--header" onClick="toggleCollapsible(&apos;q99f44067-d1a2-4d16-aaa1-32233a89cefb&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe168305f-7b9b-4fc0-99a4-a2010a24290b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcadf0ff1-77ff-4751-b038-61e82de6cfb0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6ea3a094-200f-4d1a-bbdd-ef4f693d674c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q96ef7d06-b880-4b99-8bbf-38d2e9c8d6ad"><button class="snippet--header" onClick="toggleCollapsible(&apos;q96ef7d06-b880-4b99-8bbf-38d2e9c8d6ad&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn env&lt;-mutation-param
  ([env param-key param-value]
   (env&lt;-mutation-param env nil param-key param-value))

  ([env mutation-name param-key param-value]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/update-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]
                             assoc param-key param-value))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q53a6adf9-4f6d-47b1-9d7b-3664e70e7bf0"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Associates the given value to the given environment map as a mutation parameter.<br>If the mutation name is not provided it associates the value to the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q746b45a6-2f8a-4c19-8aff-33c72a9e5d5a"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfdf59b4c-a5d0-4748-8e44-76a7ac076aae"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q453ffbcb-d478-4e6e-8bb5-5dc0fd679a56"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(env&lt;-mutation-param {...} :my-mutation :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4ed1e4ad-e6c3-45e9-b611-b99c4950b365"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qe7f0b446-a7ce-4741-8bd1-06bd5022c6db"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2ad1d41c-d563-46a2-bee4-204c71a12c0a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qdb49eedb-0c9c-4115-8833-fb6efe11a7d5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe28b8212-49a2-480f-bdc9-62286bf83afb"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe28b8212-49a2-480f-bdc9-62286bf83afb&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [{:params (map) ...} ...]<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="get-environment"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-environment</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qaabd2ccb-9e4f-4f2d-8a31-a63c1a049f28"><button class="snippet--header" onClick="toggleCollapsible(&apos;qaabd2ccb-9e4f-4f2d-8a31-a63c1a049f28&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn get-environment
  ([]
   (get-environment :global))

  ([environment-id]
   (-&gt; register.state/ENVIRONMENTS deref (get environment-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0c1dd3e8-72c0-483c-95a0-2d92ba59fea1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- Returns an environment map that contains resolver and mutation functions registered by the <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> functions.<br>- Equivalent to the 'p.ci/register' function (in terms of output).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbb83eacc-a746-4a20-a1b9-54cd42584e3b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc0e00028-cac2-482d-9b4f-7d7697aabce4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(get-environment :my-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdb1546d3-4373-4673-8ac2-6a83af6231d0"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdb1546d3-4373-4673-8ac2-6a83af6231d0&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q0d650be6-465c-4470-b536-e1007665f01b"><button class="snippet--header" onClick="toggleCollapsible(&apos;q0d650be6-465c-4470-b536-e1007665f01b&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br> :com.wsscode.pathom3.connect.indexes/index-io (map)<br> :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br> :com.wsscode.pathom3.connect.indexes/index-oir (map)<br> :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br> ...}</pre></div></div></div></div><div class="section" id="reg-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9a4d8bfe-d492-4b96-940d-82d603defb14"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9a4d8bfe-d492-4b96-940d-82d603defb14&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn reg-handlers!
  ([handlers]
   (reg-handlers! :global handlers))

  ([environment-id handlers]
   (swap! register.state/HANDLERS update environment-id merge handlers)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q51344218-9c92-49f0-87b7-b0eb25e33580"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Register multiple handlers (mutation and/or resolver functions) (into the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1ca04f32-9958-4459-bab9-e0cca1ead4c0"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the given handlers are registered into.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7023b361-7fe4-4d39-8d88-24958f4e601b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(reg-handlers! :my-environment {...})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5c7d1147-8e4a-4f38-b312-2de9f31c60be"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qf3229b6d-ce35-4df8-b64d-0eeab4571db4"><button class="snippet--header" onClick="toggleCollapsible(&apos;qf3229b6d-ce35-4df8-b64d-0eeab4571db4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3f674c9d-b395-4a2e-9768-841955a744a3"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3f674c9d-b395-4a2e-9768-841955a744a3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handlers</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:my-handler (mutation or resolver function)}</pre></div></div></div></div><div class="section" id="remove-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">remove-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q8da082a7-6df4-4781-ac1c-9e4f4980243a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q8da082a7-6df4-4781-ac1c-9e4f4980243a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn remove-handlers!
  ([handler-ids]
   (remove-handlers! :global handler-ids))

  ([environment-id handler-ids]
   (swap! register.state/HANDLERS update environment-id map/remove-keys handler-ids)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8c7f4d50-c586-46d5-a781-7b4172bac52b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Removes multiple handlers (mutation and/or resolver functions) (from the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q32fccecb-99af-4014-946a-0cbed5c02019"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">The provided environment ID identifies a specific environment that the identified handlers are removed from.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2354de04-032f-45b9-9acc-20d6ff0ce28e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2aedaeaf-0fd2-49b0-bd71-e4ae040b6296"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})<br>(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3c38aff2-3c2c-4ad6-b412-4e00661bab66"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3c38aff2-3c2c-4ad6-b412-4e00661bab66&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7a276ec6-5ed8-4a10-b2c0-4ec49a49349e"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7a276ec6-5ed8-4a10-b2c0-4ec49a49349e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-ids</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">[(keyword) handler-id]</pre></div></div></div></div><div class="section" id="request-_query"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">request->query</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb98546b9-c66a-43b1-8985-3d7d4ccca28c"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb98546b9-c66a-43b1-8985-3d7d4ccca28c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(defn request-&gt;query
  [request]
  (letfn [(f0 [%] (cond (-&gt; % vector?) (-&gt; %)
                        (-&gt; % string?) (-&gt; % reader/parse-edn)))
          (f1 [%] (when (-&gt; % vector?) (-&gt; %)))]
         (or (if-let [query (http/request-&gt;transit-param request :query)] (-&gt; query f0 f1))
             (if-let [query (http/request-&gt;param         request :query)] (-&gt; query f0 f1)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5893937c-542b-4782-9437-1293c8af0fb4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">Returns the query vector from the given request map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q88cb1c74-6781-42b1-85df-fb69b253db55"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">- The primary source of the query vector is the transit parameters map of the given request.<br>- The fallback source of the query vector is the parameters map of the given request.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd58dd2a5-20d7-4151-bf74-b2254007f45b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q18adc19d-411c-40df-9d9e-72866cca4ce9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:transit-params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5057ff10-ae07-4fb7-85b3-4242b31ff20e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0884cc60-1b2e-47e3-9325-5ea1235489f7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">(request-&gt;query {:params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q26e020f6-1f1e-48d8-a2dc-044c3347addf"><button class="snippet--header" onClick="toggleCollapsible(&apos;q26e020f6-1f1e-48d8-a2dc-044c3347addf&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">request</pre></button><div class="snippet--text"><pre class="text--boxed scroll-x color--hard-grey text--s">{:params (map)(opt)<br>  {:query (string or vector)(opt)}<br> :transit-params (map)(opt)<br>  {:query (string or vector)(opt)}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q27267afb-9be0-42bf-99e3-ae49d03159ec"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">pathom-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.2.8.0</pre><a class="text--s" href="https://github.com/mt-extensions/pathom-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/mt-extensions/pathom-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
