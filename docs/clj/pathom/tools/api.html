<!DOCTYPE html>
<html><html><head><style type="text/css">body{margin:12px 0 0 560px;padding:60px 48px}button{background-color:transparent;border:none;cursor:pointer;padding:0;user-select:none}button:hover{opacity:.5}div{box-sizing:border-box}pre{display:block;margin:0;letter-spacing:.8px}.scroll-x{overflow-x:auto}.scroll-y{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}a.inline-link{display:inline-block}a.inline-link:hover{text-decoration:underline}.button{letter-spacing:.5px;white-space:inherit}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--xxs{font-size:10px;line-height:18px}.text--xs{font-size:11px;line-height:18px}.text--s{font-size:12px;line-height:18px}.text--m{font-size:13px;line-height:18px}.text--l{font-size:14px;line-height:18px}.text--xl{font-size:16px;line-height:24px}.text--xxl{font-size:18px;line-height:24px}.text--semi-bold{font-weight:500}.text--bold{font-weight:600}.text--uppercase{text-transform:uppercase}.text--boxed{background-color:#fafafa;padding:12px 8px}.text--hidden{display:none}.text--wrap{-white-space:normal;white-space:pre-wrap}.image--boxed{background-color:#fafafa;padding:12px 8px}.color--black{color:#000000}.color--hard-grey{color:#404040}.color--soft-grey{color:#808080}.color--hard-blue{color:#0088cc}.color--soft-blue{color:#55aabb}.color--hard-purple{color:#8800cc}.color--soft-purple{color:#aa55bb}.color--hard-red{color:#cc00aa}[data-collapsed="true"] .snippet--text{display:none}[data-collapsible="true"] .snippet--header::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;height:18px;width:18px}[data-collapsible="true"][data-collapsed="false"] .snippet--header::after{content:'▲'}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{padding:21px 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{padding:18px 0;text-transform:uppercase}#top-bar--library-version{margin-top:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;position:fixed;right:0;width:calc(100% - 560px)}#bottom-bar--credits-link{padding:12px 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0;position:fixed;top:60px;width:280px}#secondary-list{background-color:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:280px;padding:12px 0;position:fixed;top:60px;width:280px}#primary-list,#secondary-list{z-index:9999}#primary-list .text--xs,#secondary-list .text--xs{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#primary-list .button,#secondary-list .button{padding:3px 12px}#primary-list .label,#secondary-list .label{padding:0 12px}.section{padding:72px 0}.section--header{border-bottom:1px solid #e0e0e0;padding-bottom:8px;margin-bottom:12px}.snippets{display:flex;flex-direction:column;gap:24px}.snippet--header{display:flex;gap:4px}.snippet--preview-image{border:1px solid #dedede;display:block;max-height:480px;max-width:640px;min-height:48px;min-width:64px}.snippet--text span{opacity:.65}</style><script type="text/javascript">function toggleCollapsible(collapsibleId){collapsible=document.getElementById(collapsibleId);if(collapsible.dataset.collapsed==='true'){collapsible.dataset.collapsed='false';}else{collapsible.dataset.collapsed='true';}}</script><title>pathom-utils 0.2.7.0 documentation</title></head><body><div id="primary-list"><div class="scroll-y"><div class="primary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Clojure namespaces</pre><a href="https://bithandshake.github.io/pathom-utils/clj/pathom/dev/api.html"><pre class="button color--hard-blue text--m ">pathom.dev.api</pre></a><a href="https://bithandshake.github.io/pathom-utils/clj/pathom/tools/api.html"><pre class="button color--hard-blue text--m button--active">pathom.tools.api</pre></a></div></div></div><div id="secondary-list"><div class="scroll-y"><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Tutorials</pre><a href="#registering-handlers"><pre class="button color--hard-purple text--m">Registering handlers</pre></a><a href="#providing-registered-handlers"><pre class="button color--hard-purple text--m">Providing registered handlers</pre></a></div><div class="secondary-list--container"><pre class="label color--soft-grey text--xxs text--uppercase">Declarations</pre><a href="#environments"><pre class="button color--hard-blue text--m">ENVIRONMENTS</pre></a><a href="#handlers"><pre class="button color--hard-blue text--m">HANDLERS</pre></a><a href="#env-_mutation-dex"><pre class="button color--hard-blue text--m">env->mutation-dex</pre></a><a href="#env-_mutation-param"><pre class="button color--hard-blue text--m">env->mutation-param</pre></a><a href="#env-_mutation-params"><pre class="button color--hard-blue text--m">env->mutation-params</pre></a><a href="#env-_resolver-param"><pre class="button color--hard-blue text--m">env->resolver-param</pre></a><a href="#env-_resolver-params"><pre class="button color--hard-blue text--m">env->resolver-params</pre></a><a href="#env_-context"><pre class="button color--hard-blue text--m">env<-context</pre></a><a href="#env_-mutation-param"><pre class="button color--hard-blue text--m">env<-mutation-param</pre></a><a href="#env_-resolver-param"><pre class="button color--hard-blue text--m">env<-resolver-param</pre></a><a href="#get-environment"><pre class="button color--hard-blue text--m">get-environment</pre></a><a href="#reg-handlers_"><pre class="button color--hard-blue text--m">reg-handlers!</pre></a><a href="#remove-handlers_"><pre class="button color--hard-blue text--m">remove-handlers!</pre></a><a href="#request-_query"><pre class="button color--hard-blue text--m">request->query</pre></a></div></div></div><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">Clojure namespace</pre><pre class="color--black text--xxl text--wrap text--bold">pathom.tools.api</pre></div><div class="sections"><div class="section" id="registering-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Registering handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd8bbfa74-4a93-4beb-ac3f-4d2542190d6b"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd8bbfa74-4a93-4beb-ac3f-4d2542190d6b&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb332038b-025b-4a94-aa62-028498324be5"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> function stores the provided handlers (mutation and/or resolver functions),<br>then rebuilds the corresponding environment by using the 'pci/register' function.<br><br>- Handles different environments (i.e. handler sets).<br>- Supports hot code reloading (by updating changed environments).<br>- If no environment ID is provided, the default environment ID is ':global'.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf94ac63b-2a21-4bd5-b415-40057a058655"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div></div></div><div class="section" id="providing-registered-handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">tutorial</pre><pre class="color--hard-purple text--xxl text--wrap text--bold">Providing registered handlers</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qaa405c62-789c-4b9c-b769-6271cc9759f0"><button class="snippet--header" onClick="toggleCollapsible(&apos;qaa405c62-789c-4b9c-b769-6271cc9759f0&apos;)"><pre class="text--uppercase color--hard-blue text--xxs ">links</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x"><a class="inline-link color--hard-blue" href="https://pathom3.wsscode.com/docs">pathom3.wsscode.com/docs</a></pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q36532797-4fda-43a5-a090-523769305757"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs text--hidden">---</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The <a class="inline-link color--hard-blue" href="#get-environment">'get-environment'</a> function provides a specific environment (i.e. handler set) to the 'p.eql/process' function.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qaaa63fc2-2f3b-45c1-8705-0ed7aabb3105"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-resolver my-resolver})<br><br>(let [environment (get-environment :my-environment)]<br>     (p.eql/process environment [:my-reosolver]))</pre></div></div></div></div></div><div class="sections"><div class="section" id="handlers"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">HANDLERS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcaee5d2e-8fa7-49f5-af0f-4b84c0bc5a1e"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcaee5d2e-8fa7-49f5-af0f-4b84c0bc5a1e&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defonce HANDLERS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q27f05748-cb27-4929-889a-f663d9c82791"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Stored handlers (mutation and/or resolver functions).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q83ff99e8-d508-4983-b056-887970d1ca4e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(deref HANDLERS)<br>=&gt;<br>{:my-environment {:my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...}<br>                  :my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q89073d66-a3e9-456a-92a7-3541511e83b6"><button class="snippet--header" onClick="toggleCollapsible(&apos;q89073d66-a3e9-456a-92a7-3541511e83b6&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:my-environment (map)<br>  {:my-handler (mutation or resolver function)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="environments"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">def</pre><pre class="color--hard-blue text--xxl text--bold">ENVIRONMENTS</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd8354c66-b32e-4cc6-87f0-783befd164f3"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd8354c66-b32e-4cc6-87f0-783befd164f3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defonce ENVIRONMENTS (atom {}))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7f460b14-ffe5-4f3b-9374-0fcba4314509"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Stored environments.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qc89d1407-e3a7-4245-ae03-9d3a3e62d74b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(deref ENVIRONMENTS)<br>=&gt;<br>{:my-environment<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br>   :com.wsscode.pathom3.connect.indexes/index-io {...}<br>   :com.wsscode.pathom3.connect.indexes/index-oir {...}<br>   :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q3b8440f3-ae10-4c57-91b5-0f94f3393661"><button class="snippet--header" onClick="toggleCollapsible(&apos;q3b8440f3-ae10-4c57-91b5-0f94f3393661&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">atom</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:my-environment (map)<br>  {:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br>   :com.wsscode.pathom3.connect.indexes/index-io (map)<br>   :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br>   :com.wsscode.pathom3.connect.indexes/index-oir (map)<br>   :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env_-context"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-context</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q8838e54b-91b7-43fa-9e06-089e97951320"><button class="snippet--header" onClick="toggleCollapsible(&apos;q8838e54b-91b7-43fa-9e06-089e97951320&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env&lt;-context
  [env context]
  (merge env context))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4d51f65a-7293-44f2-a332-bd857624f1f8"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Merges the given context map onto the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7c7491a5-f281-4411-aded-9e7b7baf235c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env&lt;-context {...} {:query [:my-resolver] :request {...}})<br>=&gt;<br>{:query [:my-resolver] :request {...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qcdc3f844-1481-48e1-afcf-7c57ab7fd37d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q56f0f71c-15f5-41e1-ba6f-ae403ad79f56"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">context</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qd03a1e46-db5d-4597-9430-96ad15478bfa"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q810c667c-6e5d-44f8-af58-3fc65b2030f7"><button class="snippet--header" onClick="toggleCollapsible(&apos;q810c667c-6e5d-44f8-af58-3fc65b2030f7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env-&gt;resolver-params
  [env]
  (-&gt; env pathom.co/params))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4791a48c-4ed4-4273-8571-b3efe3518670"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Returns the resolver parameters from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q85567ec5-13a5-4d4a-b6ff-7d4a201a547c"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q227bf03f-11ef-4859-b682-ea0a317284a7"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa431aa8a-d718-472d-9fc6-9c91cc5a939f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;resolver-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q65a5c801-95b7-4218-8034-cda185b78a07"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;resolver-params {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qa86209d2-bc3f-4c06-805e-80c8f299cc10"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defresolver my-resolver<br>  [env _]<br>  (let [params (env-&gt;resolver-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q48c820a3-c6d5-4784-822d-7851423c04ed"><button class="snippet--header" onClick="toggleCollapsible(&apos;q48c820a3-c6d5-4784-822d-7851423c04ed&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q3ece704d-94a9-4820-a907-bb797c9cc28b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd4dc72c8-c321-4677-aa34-2c1cf7eaec22"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd4dc72c8-c321-4677-aa34-2c1cf7eaec22&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env-&gt;resolver-param
  [env param-key]
  (-&gt; env (env-&gt;resolver-params)
          (get param-key)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb830fc6a-12da-4856-924c-122e92bcbca9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Returns a specific resolver parameter from the given environment map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0d5bfef3-d479-4e6f-b92e-2d8789a3bf48"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The 'p.eql/process' function associates the resolver parameters to the environment map provided to resolver functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcd2b7e5b-e167-411b-aa66-dfa1c24a0ef0"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9dc0c878-1326-42b0-a701-62d12e98bafe"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;resolver-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0f0004c1-43c6-4527-98d9-a0de1eeaaa42"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;resolver-param {:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value"} ...} ...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q411a3ed8-297b-47dc-b121-e5a57f7585bb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defresolver my-resolver<br>  [env _]<br>  (let [param (env-&gt;resolver-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qd49a989b-4783-45cb-8a4f-31371ce369a4"><button class="snippet--header" onClick="toggleCollapsible(&apos;qd49a989b-4783-45cb-8a4f-31371ce369a4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/node (map)(opt)<br>  {:com.wsscode.pathom3.connect.planner/params (map)(opt)<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q8f322a6a-3a9b-4cd7-bfee-8c9ce40bacc7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q907dd12c-39d9-4768-a146-3e2a1816008d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-resolver-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-resolver-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qdb37b451-2da9-4661-85ec-cddd16ff3dc8"><button class="snippet--header" onClick="toggleCollapsible(&apos;qdb37b451-2da9-4661-85ec-cddd16ff3dc8&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env&lt;-resolver-param
  [env param-key param-value]
  (assoc-in env [:com.wsscode.pathom3.connect.planner/node :com.wsscode.pathom3.connect.planner/params param-key] param-value))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6f06c336-7486-4699-9811-f06d15f7ed04"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Associates the given value to the given environment map as a resolver parameter.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q74b0176d-305d-4857-a058-1fc1c4f6b014"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The environment map (provided to resolver functions) contains details only of the resolver that took the environment map.<br>Therefore, no need to provide the resolver name to specify which resolver's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8b0e3b0a-dcf5-48e6-ad72-431e7e7c64ba"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env&lt;-resolver-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/node {:com.wsscode.pathom3.connect.planner/params {:my-param "My value" ...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qa352ec02-902e-4710-9a86-fd0adff555f3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc44b98c8-558f-4194-b13c-5422c8ae9351"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qb7d583d6-ba2f-4cb7-9d56-e0e0edfe9d0b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa5bbb52e-5d40-4457-8068-3083e3c11839"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa5bbb52e-5d40-4457-8068-3083e3c11839&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/node (map)<br>  {:com.wsscode.pathom3.connect.planner/params (map)<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="env-_mutation-dex"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-dex</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qff63db4c-d0b1-4ffe-8bc5-1906ab5f1fdc"><button class="snippet--header" onClick="toggleCollapsible(&apos;qff63db4c-d0b1-4ffe-8bc5-1906ab5f1fdc&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env-&gt;mutation-dex
  [env mutation-name]
  (letfn [(f0 [%] (-&gt; % :dispatch-key (= (-&gt; mutation-name name symbol))))]
         (-&gt; env (:com.wsscode.pathom3.connect.planner/graph)
                 (:com.wsscode.pathom3.connect.planner/mutations)
                 (vector/first-dex-by f0))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qea55e17f-4f84-4e5b-ad02-e8065704a851"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Returns the index of a specific mutation within the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q1b0ef649-a8f1-44d8-afc6-9701069f4777"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-dex {...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2083932d-d717-48f9-9db1-cabc4f582c52"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-dex {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation ...} {...} ...] ...} ...} :my-mutation)<br>=&gt;<br>0</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q658935f1-3136-47ab-9331-7e24f0e3fcd4"><button class="snippet--header" onClick="toggleCollapsible(&apos;q658935f1-3136-47ab-9331-7e24f0e3fcd4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q04e1c2f5-39e5-4ece-b14d-b715576ef16e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q986985c7-84f3-4fa9-84bb-baa64839c20b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">integer</pre></div></div></div></div><div class="section" id="env-_mutation-params"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-params</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qbd83ba86-81eb-46ba-a32d-4fa8f8b03fa7"><button class="snippet--header" onClick="toggleCollapsible(&apos;qbd83ba86-81eb-46ba-a32d-4fa8f8b03fa7&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env-&gt;mutation-params
  ([env]
   (env-&gt;mutation-params env nil))

  ([env mutation-name]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/get-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q457705ef-87c6-496b-b89b-888a151b647d"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Returns the mutation parameters from the given environment map.<br>If the mutation name is not provided it returns the parameters of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q06db8fa1-63f1-449f-82a7-250ef84f0a7e"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8d7e5d0a-5b15-48d6-b6a7-e0841e9b9fd6"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q13c3ba10-3bb5-4f11-9678-a0ec1004f308"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-params {...})<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q9904c1b5-4b2f-4b5f-b3ea-e58ef4a71911"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-params {...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q805b1f50-6831-4ecd-bce3-9ff7bc042dc2"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-params {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation)<br>=&gt;<br>{:my-param "My value"}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q91c4ac0d-079b-4cb1-85d1-c561085f775f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defmutation my-mutation<br>  [env _]<br>  (let [params (env-&gt;mutation-params env)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q6571f29c-c9c5-4025-b1e7-214a61b44f63"><button class="snippet--header" onClick="toggleCollapsible(&apos;q6571f29c-c9c5-4025-b1e7-214a61b44f63&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q87676a5f-be37-4f90-92d2-86c34d009e64"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc374e4d4-e364-4b47-ac29-cb5122c0be0e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></div></div></div></div><div class="section" id="env-_mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env->mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qe739994c-a877-4852-bc4b-a7a1921d9e6c"><button class="snippet--header" onClick="toggleCollapsible(&apos;qe739994c-a877-4852-bc4b-a7a1921d9e6c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env-&gt;mutation-param
  ([env param-key]
   (-&gt; env (env-&gt;mutation-params)
           (get param-key)))

  ([env mutation-name param-key]
   (-&gt; env (env-&gt;mutation-params mutation-name)
           (get param-key))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q079b3e51-e658-4d39-a3bb-fa62bf018ad7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Returns a specific mutation parameter from the given environment map.<br>If the mutation name is not provided it returns the parameter of the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q66ed7245-d08e-4f16-95b0-89ab26afa95f"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The 'p.eql/process' function associates the mutation parameters to the environment map provided to mutation functions.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb143bf8f-7a59-48fe-bdfe-2ddf5d3da179"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be returned.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qcb1f7c12-bf70-470c-9268-3729868f7fcf"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-param {...} :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qf31f0266-ed43-4e23-b898-52064c3115e7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-param {...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q2d8a056c-8a5d-42fd-a6ca-e6e5fded5d1e"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env-&gt;mutation-param {:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value"} ...} ...] ...} ...} :my-mutation :my-param)<br>=&gt;<br>"My value"</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb670d92c-e553-46bb-a252-198641709f65"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defmutation my-mutation<br>  [env _]<br>  (let [param (env-&gt;mutation-param env :my-param)])<br>       ...)</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qcc91bdea-121d-494e-8b48-dc11f29d968f"><button class="snippet--header" onClick="toggleCollapsible(&apos;qcc91bdea-121d-494e-8b48-dc11f29d968f&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [(map) mutation<br>      {:dispatch-key (symbol)<br>       :params (map)(opt)<br>       ...}]<br>   ...}<br> ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q4a9cd9cf-e9f6-4e77-8eb5-dc5201baa94a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qecb1a591-3d8f-4728-88b3-f285872add20"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q100eb46f-5335-4072-8aad-9eefce0a6277"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre></div></div></div></div><div class="section" id="env_-mutation-param"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">env<-mutation-param</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q375f0ecf-7c2c-4554-a03b-29038120696c"><button class="snippet--header" onClick="toggleCollapsible(&apos;q375f0ecf-7c2c-4554-a03b-29038120696c&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn env&lt;-mutation-param
  ([env param-key param-value]
   (env&lt;-mutation-param env nil param-key param-value))

  ([env mutation-name param-key param-value]
   (letfn [(f0 [%] ((if mutation-name f1 f2) %))
           (f1 [_] (env-&gt;mutation-dex env mutation-name))
           (f2 [%] (seqable/first-dex %))]
          (map/update-by env [:com.wsscode.pathom3.connect.planner/graph :com.wsscode.pathom3.connect.planner/mutations f0 :params]
                             assoc param-key param-value))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qb2b45c38-26e7-4bfb-a5b6-44a74232abb9"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Associates the given value to the given environment map as a mutation parameter.<br>If the mutation name is not provided it associates the value to the first mutation of the processed query.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7e4d7d45-bcb7-4dd6-8052-737e375d5b7c"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The environment map (provided to mutation functions) contains details of all mutations of the processed query.<br>Therefore, the mutation name must be provided to specify which mutation's parameters should be updated.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q688bda9e-91e4-4445-ad0f-df4b0b59297a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env&lt;-mutation-param {...} :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q32590906-4195-44c6-8c9b-57043a29a3a4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(env&lt;-mutation-param {...} :my-mutation :my-param "My value")<br>=&gt;<br>{:com.wsscode.pathom3.connect.planner/graph {:com.wsscode.pathom3.connect.planner/mutations [{:dispatch-key my-mutation :params {:my-param "My value" ...} ...} ...] ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q9cf9bfae-855c-4cc7-86a7-63e61427eec1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">env</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q6c9da8f9-7eab-40e4-95f1-c81e96ffeba4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">mutation-name</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q2c00d03c-c320-44b7-916a-a2e583aee795"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-key</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="q608bdf7f-eb75-496c-9d56-6d9361067d3a"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">*</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">param-value</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q7f7cf943-e363-47bb-806a-4d0d034a90f5"><button class="snippet--header" onClick="toggleCollapsible(&apos;q7f7cf943-e363-47bb-806a-4d0d034a90f5&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.planner/graph (map)<br>  {:com.wsscode.pathom3.connect.planner/mutations (maps in vector)<br>    [{:params (map) ...} ...]<br>   ...}<br> ...}</pre></div></div></div></div><div class="section" id="get-environment"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">get-environment</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="qde6c6e87-62e0-4db0-a490-55aedf4eeb31"><button class="snippet--header" onClick="toggleCollapsible(&apos;qde6c6e87-62e0-4db0-a490-55aedf4eeb31&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn get-environment
  ([]
   (get-environment :global))

  ([environment-id]
   (-&gt; register.state/ENVIRONMENTS deref (get environment-id))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7e7c5731-bd9d-487f-a125-b7fa4fad1eb6"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">- Returns an environment map that contains resolver and mutation functions registered by the <a class="inline-link color--hard-blue" href="#reg-handlers_">'reg-handlers!'</a> functions.<br>- Equivalent to the 'p.ci/register' function (in terms of output).</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q7da1f940-0c70-45b7-8e7c-c7790e126c0f"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(get-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0abf32e2-8232-475d-aec0-18d46989ee3c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(get-environment :my-environment)<br>=&gt;<br>{:com.wsscode.pathom3.connect.indexes/index-attributes {...}<br> :com.wsscode.pathom3.connect.indexes/index-io {...}<br> :com.wsscode.pathom3.connect.indexes/index-oir {...}<br> :com.wsscode.pathom3.connect.indexes/index-mutations {my-mutation #com.wsscode.pathom3.connect.operation.Mutation{...} ...}<br> :com.wsscode.pathom3.connect.indexes/index-resolvers {my-resolver #com.wsscode.pathom3.connect.operation.Resolver{...} ...} ...}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q511cef93-efc4-466b-87e8-9386d8d6600a"><button class="snippet--header" onClick="toggleCollapsible(&apos;q511cef93-efc4-466b-87e8-9386d8d6600a&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q9eebc77e-bb69-458f-8970-aacfc81325b3"><button class="snippet--header" onClick="toggleCollapsible(&apos;q9eebc77e-bb69-458f-8970-aacfc81325b3&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:com.wsscode.pathom3.connect.indexes/index-attributes (map)<br> :com.wsscode.pathom3.connect.indexes/index-io (map)<br> :com.wsscode.pathom3.connect.indexes/index-mutations (map)<br> :com.wsscode.pathom3.connect.indexes/index-oir (map)<br> :com.wsscode.pathom3.connect.indexes/index-resolvers (map)<br> ...}</pre></div></div></div></div><div class="section" id="reg-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">reg-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q11f6c787-ce85-42fc-b7a9-a548f0b6d4d4"><button class="snippet--header" onClick="toggleCollapsible(&apos;q11f6c787-ce85-42fc-b7a9-a548f0b6d4d4&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn reg-handlers!
  ([handlers]
   (reg-handlers! :global handlers))

  ([environment-id handlers]
   (swap! register.state/HANDLERS update environment-id merge handlers)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q86c56ef1-720f-48d0-b083-b1de4f23dad7"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Register multiple handlers (mutation and/or resolver functions) (into the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qfa503edd-bd4a-4c85-835f-44cd80d9008f"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The provided environment ID identifies a specific environment that the given handlers are registered into.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q8b69e58a-d81f-4428-b1d8-bccb45f55807"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(reg-handlers! :my-environment {...})</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qff1537bf-a87d-4359-9978-398cb0b70aa4"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qb18f77e2-2099-43c2-9341-eabe7ae0332d"><button class="snippet--header" onClick="toggleCollapsible(&apos;qb18f77e2-2099-43c2-9341-eabe7ae0332d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q421b7ef8-f11e-4f52-8abd-8baa69d36dd1"><button class="snippet--header" onClick="toggleCollapsible(&apos;q421b7ef8-f11e-4f52-8abd-8baa69d36dd1&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handlers</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:my-handler (mutation or resolver function)}</pre></div></div></div></div><div class="section" id="remove-handlers_"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">remove-handlers!</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q75e4b1f0-8558-47b3-bc80-318c7760e5c2"><button class="snippet--header" onClick="toggleCollapsible(&apos;q75e4b1f0-8558-47b3-bc80-318c7760e5c2&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn remove-handlers!
  ([handler-ids]
   (remove-handlers! :global handler-ids))

  ([environment-id handler-ids]
   (swap! register.state/HANDLERS update environment-id map/remove-keys handler-ids)
   (rebuild-environment! environment-id)))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qd4aeda37-a565-4cad-a736-320ddbc45473"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Removes multiple handlers (mutation and/or resolver functions) (from the 'HANDLERS' atom), then rebuilds the corresponding environment.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q0f94aad0-eb5e-47b7-be6c-418a45fb9736"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">The provided environment ID identifies a specific environment that the identified handlers are removed from.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q5b8d69a2-2f91-4c85-bf25-979d8188a60b"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q598ad4cc-d181-4d34-9756-9d3caadbc236"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(pco/defmutation my-mutation [_] ...)<br>(pco/defresolver my-resolver [_] ...)<br>(reg-handlers! :my-environment {:my-mutation my-mutation<br>                                :my-resolver my-resolver})<br>(remove-handlers! :my-environment [:my-mutation :my-resolver])</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q2115cf64-a15d-4446-9c19-426982a8d2ae"><button class="snippet--header" onClick="toggleCollapsible(&apos;q2115cf64-a15d-4446-9c19-426982a8d2ae&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keyword</pre><pre class="text--uppercase color--soft-grey text--xxs ">opt</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">environment-id</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">Default: :global</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="q47d973db-3aef-453c-adb7-08551d022b6d"><button class="snippet--header" onClick="toggleCollapsible(&apos;q47d973db-3aef-453c-adb7-08551d022b6d&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">keywords in vector</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">handler-ids</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">[(keyword) handler-id]</pre></div></div></div></div><div class="section" id="request-_query"><div class="section--header"><pre class="color--soft-grey text--xxs text--uppercase">defn</pre><pre class="color--hard-blue text--xxl text--bold">request->query</pre></div><div class="snippets"><div class="snippet" data-collapsed="true" data-collapsible="true" id="q545ea184-ae0e-4876-9bbe-654b0fcbf721"><button class="snippet--header" onClick="toggleCollapsible(&apos;q545ea184-ae0e-4876-9bbe-654b0fcbf721&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">source-code</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(defn request-&gt;query
  [request]
  (letfn [(f0 [%] (cond (-&gt; % vector?) (-&gt; %)
                        (-&gt; % string?) (-&gt; % reader/parse-edn)))
          (f1 [%] (when (-&gt; % vector?) (-&gt; %)))]
         (or (if-let [query (http/request-&gt;transit-param request :query)] (-&gt; query f0 f1))
             (if-let [query (http/request-&gt;param         request :query)] (-&gt; query f0 f1)))))</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q45bdb75e-1d62-42a4-bfa9-54a5f7c85fd3"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">description</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">Returns the query vector from the given request map.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qde9ceabd-108d-4b17-a9db-cbe5ac18bfe8"><div class="snippet--header"><pre class="text--uppercase color--hard-blue text--xxs ">note</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s text--wrap">- The primary source of the query vector is the transit parameters map of the given request.<br>- The fallback source of the query vector is the parameters map of the given request.</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q6713026d-2a59-494e-bff0-dc20367ae526"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(request-&gt;query {:transit-params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q26a0cd83-65bd-4ec2-a719-6a3e75ad3f4c"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(request-&gt;query {:transit-params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="qbce8ce45-bc9c-4cde-affe-42394bca6bbb"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(request-&gt;query {:params {:query [:my-resolver] ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="false" data-collapsible="false" id="q4855ef11-4270-4fd8-8a5a-b5850a0dcbe1"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">usage</pre></div><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">(request-&gt;query {:params {:query "[:my-resolver]" ...} ...})<br>=&gt;<br>[:my-resolver]</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="true" id="qa16d7753-c1ed-4a0b-a5e2-164a0ca7bdd9"><button class="snippet--header" onClick="toggleCollapsible(&apos;qa16d7753-c1ed-4a0b-a5e2-164a0ca7bdd9&apos;)"><pre class="text--uppercase color--soft-grey text--xxs ">param</pre><pre class="text--uppercase color--soft-grey text--xxs ">map</pre><pre class="text--uppercase text--bold color--hard-grey text--xxs">request</pre></button><div class="snippet--text"><pre class="text--boxed color--hard-grey text--s scroll-x">{:params (map)(opt)<br>  {:query (string or vector)(opt)}<br> :transit-params (map)(opt)<br>  {:query (string or vector)(opt)}}</pre></div></div><div class="snippet" data-collapsed="true" data-collapsible="false" id="qc31b9b4c-f99a-47ad-a802-6df9c2a716df"><div class="snippet--header"><pre class="text--uppercase color--soft-grey text--xxs ">return</pre><pre class="text--uppercase color--soft-grey text--xxs ">vector</pre></div></div></div></div></div><div id="top-bar"><pre class="text--xxl text--bold" id="top-bar--library-name">pathom-utils</pre><pre class="color--soft-grey text--s" id="top-bar--library-version">0.2.7.0</pre><a class="text--s" href="https://github.com/bithandshake/pathom-utils" id="top-bar--library-uri"><pre class="color--hard-blue">github.com/bithandshake/pathom-utils</pre></a></div><div id="bottom-bar"><a class="color--soft-purple text--s" href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link"><pre>github.com/mt-devtools/clj-source-code-documentation</pre></a></div></body></html></html>
